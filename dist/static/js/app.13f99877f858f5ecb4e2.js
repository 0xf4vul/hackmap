webpackJsonp([1],{106:function(e,t){},107:function(e,t){},108:function(e,t){},109:function(e,t){},112:function(e,t){e.exports="data:image/svg+xml;base64,PD94bWwgdmVyc2lvbj0iMS4wIiBlbmNvZGluZz0iVVRGLTgiIHN0YW5kYWxvbmU9Im5vIj8+DQo8IURPQ1RZUEUgc3ZnIFBVQkxJQyAiLS8vVzNDLy9EVEQgU1ZHIDEuMS8vRU4iICJodHRwOi8vd3d3LnczLm9yZy9HcmFwaGljcy9TVkcvMS4xL0RURC9zdmcxMS5kdGQiPg0KPHN2ZyB2ZXJzaW9uPSIxLjEiIHhtbG5zPSJodHRwOi8vd3d3LnczLm9yZy8yMDAwL3N2ZyIgeG1sbnM6eGxpbms9Imh0dHA6Ly93d3cudzMub3JnLzE5OTkveGxpbmsiIHByZXNlcnZlQXNwZWN0UmF0aW89InhNaWRZTWlkIG1lZXQiIHZpZXdCb3g9IjAgMCA0NTkgMzgwIiB3aWR0aD0iNDU5IiBoZWlnaHQ9IjM4MCI+PGRlZnM+PHBhdGggZD0iTTgyLjU5IDIuNTdMMTg5LjA2IDIuNTdMMTg5LjA2IDU2LjUzTDgyLjU5IDU2LjUzTDgyLjU5IDIuNTdaIiBpZD0iYjM4TFhjYm1HdiI+PC9wYXRoPjxwYXRoIGQ9Ik0yNDguNzEgMi41N0wzNTUuMTggMi41N0wzNTUuMTggNTYuNTNMMjQ4LjcxIDU2LjUzTDI0OC43MSAyLjU3WiIgaWQ9ImIxSFlyYkNtTm8iPjwvcGF0aD48cGF0aCBkPSJNODIuNTkgOTEuNzFMMzU1LjE4IDkxLjcxTDM1NS4xOCAxNDUuNjdMODIuNTkgMTQ1LjY3TDgyLjU5IDkxLjcxWiIgaWQ9ImM1Z3c4YWQ3dGQiPjwvcGF0aD48cGF0aCBkPSJNODIuNTkgMTgxLjQxTDM1NS4xOCAxODEuNDFMMzU1LjE4IDIzNS4zNkw4Mi41OSAyMzUuMzZMODIuNTkgMTgxLjQxWiIgaWQ9ImI3RFJuTW0zTzUiPjwvcGF0aD48cGF0aCBkPSJNMTc5LjA2IDMwNS44NUMxODQuNTkgMzA1Ljg1IDE4OS4wNiAzMTAuMzIgMTg5LjA2IDMxNS44NUMxODkuMDYgMzI4LjUyIDE4OS4wNiAzNTYuNTUgMTg5LjA2IDM2OS4yM0MxODkuMDYgMzc0Ljc1IDE4NC41OSAzNzkuMjMgMTc5LjA2IDM3OS4yM0MxNzEuNTcgMzc5LjIzIDE1OS4wOCAzNzkuMjMgMTUxLjU4IDM3OS4yM0MxNDYuMDYgMzc5LjIzIDE0MS41OCAzNzQuNzUgMTQxLjU4IDM2OS4yM0MxNDEuNTggMzU2LjU1IDE0MS41OCAzMjguNTIgMTQxLjU4IDMxNS44NUMxNDEuNTggMzEwLjMyIDE0Ni4wNiAzMDUuODUgMTUxLjU4IDMwNS44NUMxNTkuMDggMzA1Ljg1IDE3MS41NyAzMDUuODUgMTc5LjA2IDMwNS44NVoiIGlkPSJiZEFLYThSZk8iPjwvcGF0aD48cGF0aCBkPSJNMjk5LjkzIDMwNS44NUMzMDUuNDUgMzA1Ljg1IDMwOS45MyAzMTAuMzIgMzA5LjkzIDMxNS44NUMzMDkuOTMgMzI4LjUyIDMwOS45MyAzNTYuNTUgMzA5LjkzIDM2OS4yM0MzMDkuOTMgMzc0Ljc1IDMwNS40NSAzNzkuMjMgMjk5LjkzIDM3OS4yM0MyOTIuNDMgMzc5LjIzIDI3OS45NCAzNzkuMjMgMjcyLjQ1IDM3OS4yM0MyNjYuOTIgMzc5LjIzIDI2Mi40NSAzNzQuNzUgMjYyLjQ1IDM2OS4yM0MyNjIuNDUgMzU2LjU1IDI2Mi40NSAzMjguNTIgMjYyLjQ1IDMxNS44NUMyNjIuNDUgMzEwLjMyIDI2Ni45MiAzMDUuODUgMjcyLjQ1IDMwNS44NUMyNzkuOTQgMzA1Ljg1IDI5Mi40MyAzMDUuODUgMjk5LjkzIDMwNS44NVoiIGlkPSJhMmpud1hYbkkiPjwvcGF0aD48cGF0aCBkPSJNNzguOTkgMzQyLjU0Qzc4Ljk5IDM2Mi43OSA2Mi4wNyAzNzkuMjMgNDEuMjIgMzc5LjIzQzIwLjM4IDM3OS4yMyAzLjQ1IDM2Mi43OSAzLjQ1IDM0Mi41NEMzLjQ1IDMyMi4yOSAyMC4zOCAzMDUuODUgNDEuMjIgMzA1Ljg1QzYyLjA3IDMwNS44NSA3OC45OSAzMjIuMjkgNzguOTkgMzQyLjU0WiIgaWQ9ImExN2hNdmdJQ0giPjwvcGF0aD48cGF0aCBkPSJNNDA4LjQ5IDMwNi44NUw0NDguNzggMzA2Ljg1TDQ0OC43OCAzNzguNzJMNDA4LjQ5IDM3OC43Mkw0MDguNDkgMzA2Ljg1WiIgaWQ9ImM2WkFiMVkweSI+PC9wYXRoPjxwYXRoIGQ9Ik00NTYuNCAyNTYuMzdDNDU2LjQgMjcxLjI2IDQ0My45NiAyODMuMzUgNDI4LjYzIDI4My4zNUM0MTMuMzEgMjgzLjM1IDQwMC44NiAyNzEuMjYgNDAwLjg2IDI1Ni4zN0M0MDAuODYgMjQxLjQ4IDQxMy4zMSAyMjkuMzkgNDI4LjYzIDIyOS4zOUM0NDMuOTYgMjI5LjM5IDQ1Ni40IDI0MS40OCA0NTYuNCAyNTYuMzdaIiBpZD0iZDI1RUJ0M1NzayI+PC9wYXRoPjxwYXRoIGQ9Ik00NTYuNCAyMDAuNDFDNDU2LjQgMjE1LjMgNDQzLjk2IDIyNy4zOSA0MjguNjMgMjI3LjM5QzQxMy4zMSAyMjcuMzkgNDAwLjg2IDIxNS4zIDQwMC44NiAyMDAuNDFDNDAwLjg2IDE4NS41MiA0MTMuMzEgMTczLjQ0IDQyOC42MyAxNzMuNDRDNDQzLjk2IDE3My40NCA0NTYuNCAxODUuNTIgNDU2LjQgMjAwLjQxWiIgaWQ9ImRwZ0VZcVA3RCI+PC9wYXRoPjxwYXRoIGQ9Ik00NTYuNCAxMjAuNjlDNDU2LjQgMTM1LjU4IDQ0My45NiAxNDcuNjcgNDI4LjYzIDE0Ny42N0M0MTMuMzEgMTQ3LjY3IDQwMC44NiAxMzUuNTggNDAwLjg2IDEyMC42OUM0MDAuODYgMTA1LjggNDEzLjMxIDkzLjcxIDQyOC42MyA5My43MUM0NDMuOTYgOTMuNzEgNDU2LjQgMTA1LjggNDU2LjQgMTIwLjY5WiIgaWQ9ImVheWxOQ3p4OSI+PC9wYXRoPjxwYXRoIGQ9Ik00NTYuNCA2NC43M0M0NTYuNCA3OS42MiA0NDMuOTYgOTEuNzEgNDI4LjYzIDkxLjcxQzQxMy4zMSA5MS43MSA0MDAuODYgNzkuNjIgNDAwLjg2IDY0LjczQzQwMC44NiA0OS44NCA0MTMuMzEgMzcuNzUgNDI4LjYzIDM3Ljc1QzQ0My45NiAzNy43NSA0NTYuNCA0OS44NCA0NTYuNCA2NC43M1oiIGlkPSJhMXc3Y3FRZjJpIj48L3BhdGg+PC9kZWZzPjxnPjxnPjxnPjx1c2UgeGxpbms6aHJlZj0iI2IzOExYY2JtR3YiIG9wYWNpdHk9IjEiIGZpbGw9IiMwMDAwMDAiIGZpbGwtb3BhY2l0eT0iMSI+PC91c2U+PGc+PHVzZSB4bGluazpocmVmPSIjYjM4TFhjYm1HdiIgb3BhY2l0eT0iMSIgZmlsbC1vcGFjaXR5PSIwIiBzdHJva2U9IiMwMDAwMDAiIHN0cm9rZS13aWR0aD0iMCIgc3Ryb2tlLW9wYWNpdHk9IjEiPjwvdXNlPjwvZz48L2c+PGc+PHVzZSB4bGluazpocmVmPSIjYjFIWXJiQ21ObyIgb3BhY2l0eT0iMSIgZmlsbD0iIzAwMDAwMCIgZmlsbC1vcGFjaXR5PSIxIj48L3VzZT48Zz48dXNlIHhsaW5rOmhyZWY9IiNiMUhZcmJDbU5vIiBvcGFjaXR5PSIxIiBmaWxsLW9wYWNpdHk9IjAiIHN0cm9rZT0iIzAwMDAwMCIgc3Ryb2tlLXdpZHRoPSIwIiBzdHJva2Utb3BhY2l0eT0iMSI+PC91c2U+PC9nPjwvZz48Zz48dXNlIHhsaW5rOmhyZWY9IiNjNWd3OGFkN3RkIiBvcGFjaXR5PSIxIiBmaWxsPSIjMDAwMDAwIiBmaWxsLW9wYWNpdHk9IjEiPjwvdXNlPjxnPjx1c2UgeGxpbms6aHJlZj0iI2M1Z3c4YWQ3dGQiIG9wYWNpdHk9IjEiIGZpbGwtb3BhY2l0eT0iMCIgc3Ryb2tlPSIjMDAwMDAwIiBzdHJva2Utd2lkdGg9IjAiIHN0cm9rZS1vcGFjaXR5PSIxIj48L3VzZT48L2c+PC9nPjxnPjx1c2UgeGxpbms6aHJlZj0iI2I3RFJuTW0zTzUiIG9wYWNpdHk9IjEiIGZpbGw9IiMwMDAwMDAiIGZpbGwtb3BhY2l0eT0iMSI+PC91c2U+PGc+PHVzZSB4bGluazpocmVmPSIjYjdEUm5NbTNPNSIgb3BhY2l0eT0iMSIgZmlsbC1vcGFjaXR5PSIwIiBzdHJva2U9IiMwMDAwMDAiIHN0cm9rZS13aWR0aD0iMCIgc3Ryb2tlLW9wYWNpdHk9IjEiPjwvdXNlPjwvZz48L2c+PGc+PHVzZSB4bGluazpocmVmPSIjYmRBS2E4UmZPIiBvcGFjaXR5PSIxIiBmaWxsPSIjMDAwMDAwIiBmaWxsLW9wYWNpdHk9IjEiPjwvdXNlPjxnPjx1c2UgeGxpbms6aHJlZj0iI2JkQUthOFJmTyIgb3BhY2l0eT0iMSIgZmlsbC1vcGFjaXR5PSIwIiBzdHJva2U9IiMwMDAwMDAiIHN0cm9rZS13aWR0aD0iMCIgc3Ryb2tlLW9wYWNpdHk9IjEiPjwvdXNlPjwvZz48L2c+PGc+PHVzZSB4bGluazpocmVmPSIjYTJqbndYWG5JIiBvcGFjaXR5PSIxIiBmaWxsPSIjMDAwMDAwIiBmaWxsLW9wYWNpdHk9IjEiPjwvdXNlPjxnPjx1c2UgeGxpbms6aHJlZj0iI2Eyam53WFhuSSIgb3BhY2l0eT0iMSIgZmlsbC1vcGFjaXR5PSIwIiBzdHJva2U9IiMwMDAwMDAiIHN0cm9rZS13aWR0aD0iMCIgc3Ryb2tlLW9wYWNpdHk9IjEiPjwvdXNlPjwvZz48L2c+PGc+PHVzZSB4bGluazpocmVmPSIjYTE3aE12Z0lDSCIgb3BhY2l0eT0iMSIgZmlsbD0iIzAwMDAwMCIgZmlsbC1vcGFjaXR5PSIxIj48L3VzZT48Zz48dXNlIHhsaW5rOmhyZWY9IiNhMTdoTXZnSUNIIiBvcGFjaXR5PSIxIiBmaWxsLW9wYWNpdHk9IjAiIHN0cm9rZT0iIzAwMDAwMCIgc3Ryb2tlLXdpZHRoPSIwIiBzdHJva2Utb3BhY2l0eT0iMSI+PC91c2U+PC9nPjwvZz48Zz48dXNlIHhsaW5rOmhyZWY9IiNjNlpBYjFZMHkiIG9wYWNpdHk9IjEiIGZpbGw9IiMwMDAwMDAiIGZpbGwtb3BhY2l0eT0iMSI+PC91c2U+PGc+PHVzZSB4bGluazpocmVmPSIjYzZaQWIxWTB5IiBvcGFjaXR5PSIxIiBmaWxsLW9wYWNpdHk9IjAiIHN0cm9rZT0iIzAwMDAwMCIgc3Ryb2tlLXdpZHRoPSIwIiBzdHJva2Utb3BhY2l0eT0iMSI+PC91c2U+PC9nPjwvZz48Zz48dXNlIHhsaW5rOmhyZWY9IiNkMjVFQnQzU3NrIiBvcGFjaXR5PSIxIiBmaWxsPSIjMDAwMDAwIiBmaWxsLW9wYWNpdHk9IjEiPjwvdXNlPjxnPjx1c2UgeGxpbms6aHJlZj0iI2QyNUVCdDNTc2siIG9wYWNpdHk9IjEiIGZpbGwtb3BhY2l0eT0iMCIgc3Ryb2tlPSIjMDAwMDAwIiBzdHJva2Utd2lkdGg9IjAiIHN0cm9rZS1vcGFjaXR5PSIxIj48L3VzZT48L2c+PC9nPjxnPjx1c2UgeGxpbms6aHJlZj0iI2RwZ0VZcVA3RCIgb3BhY2l0eT0iMSIgZmlsbD0iIzAwMDAwMCIgZmlsbC1vcGFjaXR5PSIxIj48L3VzZT48Zz48dXNlIHhsaW5rOmhyZWY9IiNkcGdFWXFQN0QiIG9wYWNpdHk9IjEiIGZpbGwtb3BhY2l0eT0iMCIgc3Ryb2tlPSIjMDAwMDAwIiBzdHJva2Utd2lkdGg9IjAiIHN0cm9rZS1vcGFjaXR5PSIxIj48L3VzZT48L2c+PC9nPjxnPjx1c2UgeGxpbms6aHJlZj0iI2VheWxOQ3p4OSIgb3BhY2l0eT0iMSIgZmlsbD0iIzAwMDAwMCIgZmlsbC1vcGFjaXR5PSIxIj48L3VzZT48Zz48dXNlIHhsaW5rOmhyZWY9IiNlYXlsTkN6eDkiIG9wYWNpdHk9IjEiIGZpbGwtb3BhY2l0eT0iMCIgc3Ryb2tlPSIjMDAwMDAwIiBzdHJva2Utd2lkdGg9IjAiIHN0cm9rZS1vcGFjaXR5PSIxIj48L3VzZT48L2c+PC9nPjxnPjx1c2UgeGxpbms6aHJlZj0iI2ExdzdjcVFmMmkiIG9wYWNpdHk9IjEiIGZpbGw9IiMwMDAwMDAiIGZpbGwtb3BhY2l0eT0iMSI+PC91c2U+PGc+PHVzZSB4bGluazpocmVmPSIjYTF3N2NxUWYyaSIgb3BhY2l0eT0iMSIgZmlsbC1vcGFjaXR5PSIwIiBzdHJva2U9IiMwMDAwMDAiIHN0cm9rZS13aWR0aD0iMCIgc3Ryb2tlLW9wYWNpdHk9IjEiPjwvdXNlPjwvZz48L2c+PC9nPjwvZz48L3N2Zz4="},113:function(e,t,i){function o(e){i(106)}var c=i(13)(i(64),i(116),o,null,null);e.exports=c.exports},114:function(e,t,i){function o(e){i(109)}var c=i(13)(i(65),i(119),o,null,null);e.exports=c.exports},115:function(e,t,i){function o(e){i(108)}var c=i(13)(i(66),i(118),o,null,null);e.exports=c.exports},116:function(e,t,i){e.exports={render:function(){var e=this,t=e.$createElement,o=e._self._c||t;return o("div",{staticClass:"center-column"},[o("h1",[e._v("BKKHackmap")]),e._v(" "),o("a",{staticClass:"help-icon"},[e._v("?"),o("div",{staticClass:"help-text",domProps:{innerHTML:e._s(e.helpText)}})]),e._v(" "),e.username?o("a",{staticClass:"account-status",on:{click:e.logout}},[e._v(e._s(e.username)+" (Log out)")]):o("a",{staticClass:"account-status",on:{click:e.login}},[e._v("Log in")]),e._v(" "),o("div",{staticClass:"droptarget",on:{dragover:e.dragover,drop:e.drop}},[o("img",{staticClass:"floorplan",attrs:{src:i(112)}}),e._v(" "),e._l(e.projects,function(t){return t.x?o("img",{key:t.id,staticClass:"marker",class:{selected:e.selectedProject===t},style:{left:e.mapWidth*t.x-20+"px",top:e.mapHeight*t.y-20+"px"},attrs:{width:"36",draggable:t.username===e.username,"data-id":t.id,src:t.avatar_thumbnail,alt:t.username,title:t.title},on:{dragstart:e.drag,click:function(i){e.updateSelectedProject(t)}}}):e._e()})],2)])},staticRenderFns:[]}},117:function(e,t){e.exports={render:function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("div",{attrs:{id:"appContainer"}},[i("left",{attrs:{form:e.form,projects:e.projects,selectedProject:e.selectedProject,username:e.username},on:{toggleForm:e.toggleForm,updateSelectedProject:e.updateSelectedProject,drag:e.leftDrag}}),e._v(" "),i("center",{attrs:{projects:e.projects,selectedProject:e.selectedProject,helpText:e.helpText,username:e.username},on:{updateSelectedProject:e.updateSelectedProject,login:e.login,logout:e.logout,drop:e.centerDrop}}),e._v(" "),i("right",{attrs:{selectedProject:e.selectedProject,username:e.username},on:{toggleEditMode:e.toggleEditMode,updateProject:e.updateProject}})],1)},staticRenderFns:[]}},118:function(e,t){e.exports={render:function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("div",{staticClass:"details side-column"},[e.selectedProject.id?[e.selectedProject.username===e.username?i("a",{staticClass:"edit-button",on:{click:e.toggleEditMode}},[e._v(e._s(e.selectedProject.editMode?"X":"Edit"))]):e._e(),e._v(" "),i("img",{staticClass:"avatar",attrs:{src:e.selectedProject.avatar,alt:e.selectedProject.username,width:"122"}}),e._v(" "),i("p",[i("a",{attrs:{href:"https://github.com/"+e.selectedProject.username}},[e._v("@"+e._s(e.selectedProject.username))]),e._v(" is hacking on:")]),e._v(" "),e.selectedProject.editMode?[i("input",{directives:[{name:"model",rawName:"v-model",value:e.selectedProject.title,expression:"selectedProject.title"}],attrs:{type:"text",autofocus:""},domProps:{value:e.selectedProject.title},on:{input:function(t){t.target.composing||(e.selectedProject.title=t.target.value)}}}),e._v(" "),i("textarea",{directives:[{name:"model",rawName:"v-model",value:e.selectedProject.description,expression:"selectedProject.description"}],domProps:{value:e.selectedProject.description},on:{input:function(t){t.target.composing||(e.selectedProject.description=t.target.value)}}}),e._v(" "),i("button",{staticClass:"glow-button",on:{click:e.updateProject}},[e._v("Update")])]:[i("h2",[e._v(e._s(e.selectedProject.title))]),e._v(" "),i("p",{staticClass:"selected-project-description"},[e._v(e._s(e.selectedProject.description))])]]:e._e()],2)},staticRenderFns:[]}},119:function(e,t){e.exports={render:function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("div",{staticClass:"projects side-column"},[i("div",{staticClass:"project-form",class:{open:e.form.isOpen}},[i("input",{directives:[{name:"model",rawName:"v-model",value:e.form.title,expression:"form.title"}],attrs:{type:"text",placeholder:"Topic",autofocus:""},domProps:{value:e.form.title},on:{input:function(t){t.target.composing||(e.form.title=t.target.value)}}}),e._v(" "),i("textarea",{directives:[{name:"model",rawName:"v-model",value:e.form.description,expression:"form.description"}],attrs:{placeholder:"More description (optional)"},domProps:{value:e.form.description},on:{input:function(t){t.target.composing||(e.form.description=t.target.value)}}})]),e._v(" "),i("button",{staticClass:"glow-button",on:{click:e.toggleForm}},[e._v("+ Add your hack")]),e._v(" "),e._l(e.projects,function(t){return i("div",{key:t.id,staticClass:"project",class:{selected:e.selectedProject===t},attrs:{"data-id":t.id,draggable:t.username===e.username},on:{dragstart:e.drag,click:function(i){e.updateSelectedProject(t)}}},[i("img",{attrs:{src:t.avatar_thumbnail,width:"36",alt:t.username,draggable:"false"}}),e._v("\n  "+e._s(t.title)+"\n  ")])}),e._v(" "),0===e.projects.length?i("div",{staticClass:"details"},[e._v("\n    No hacks yet! You can be first!\n  ")]):e._e(),e._v(" "),e.projects.loading?i("div",{staticClass:"loader"},[i("div",{staticClass:"loader1"}),e._v(" "),i("div",{staticClass:"loader2"}),e._v(" "),i("div",{staticClass:"loader3"})]):e._e()],2)},staticRenderFns:[]}},29:function(e,t,i){"use strict";var o=i(68),c=i.n(o),n=i(23),a=i.n(n),r=window.location.href.indexOf("index.html")>=0?window.location.href.replace("index.html","oauth_redirect.html"):window.location.href+"oauth_redirect.html",s="https://github.com/login/oauth/authorize?scope=public_repo&redirect_uri="+r+"&client_id=1b717d04ec7f3615bb18",u="https://bkkhackmap.herokuapp.com/authenticate/";a.a.options(u),t.a={isLoggedIn:function(){return!!window.localStorage.getItem("token")},logOut:function(){window.localStorage.removeItem("token")},getOAuthToken:function(){return new c.a(function(e,t){var i=window.localStorage.getItem("token");if(i)return void e(i);var o=window.open(s);window.addEventListener("oauth-code-received",function(i){var c=i.detail;a.a.get(u+c).then(function(t){window.localStorage.setItem("token",t.data.token),o.close(),e(t.data.token)}).catch(function(e){return t(e)})})})}}},41:function(e,t,i){function o(e){i(107)}var c=i(13)(i(63),i(117),o,null,null);e.exports=c.exports},60:function(e,t,i){"use strict";var o=i(69),c=i.n(o),n=i(70),a=i.n(n),r=i(23),s=i.n(r),u=i(61),l=i(29),d=function(){function e(t){var i=this;c()(this,e),this.config=t,this.github=this.createGithubApiClient(t.organization,t.repository),l.a.isLoggedIn()&&this.ensureAuthenticatedClient(),this.github.repo.get("issues",{params:{labels:this.config.label}}).then(function(e){if(!e.data.length)throw new Error("Could not find an open issue labeled: "+i.config.label);var o=e.data[0];t.onHelpText(o.body),i.issueNumber=o.number}).then(function(){return i.pollIssueForComments()}).catch(function(e){return i.reportError(e)})}return a()(e,[{key:"postNewProject",value:function(e){var t=this;return this.ensureAuthenticatedClient().then(function(){var i=u.a.serializeProjectToComment(e);return t.github.repo.post("issues/"+t.issueNumber+"/comments",{body:i})}).then(function(e){return u.a.deserializeCommentToProject(e.data)})}},{key:"updateProject",value:function(e){var t=this;return this.ensureAuthenticatedClient().then(function(){var i=u.a.serializeProjectToComment(e);return t.github.repo.patch("issues/comments/"+e.id,{body:i})}).then(function(e){return u.a.deserializeCommentToProject(e.data)})}},{key:"pollIssueForComments",value:function(){var e=this,t="issues/"+this.issueNumber+"/comments",i=function(){return console.log("polling..."),e.github.repo.get(t).then(function(t){var i=t.data.map(u.a.deserializeCommentToProject);e.config.onProjectsUpdated(i)}).catch(function(t){return e.reportError(t)})};return window.setInterval(i,1e3*this.config.pollIntervalSeconds),i()}},{key:"ensureAuthenticatedClient",value:function(){var e=this;return this.config.onAuthenticationRequired().then(function(t){if(!e.github.isAuthenticated)return e.github=e.createGithubApiClient(e.config.organization,e.config.repository,t),e.github.isAuthenticated=!0,e.github.get("user")}).then(function(t){t&&e.config.onUserAuthenticated(t)})}},{key:"deauthenticateClient",value:function(){l.a.logOut(),this.github=this.createGithubApiClient(this.config.organization,this.config.repository)}},{key:"createGithubApiClient",value:function(e,t,i){function o(e){var t={baseURL:"https://api.github.com/"+(e||"")};return i&&(t.headers={Authorization:"token "+i}),t}var c=s.a.create(o());return c.repo=s.a.create(o("repos/"+e+"/"+t+"/")),c}},{key:"reportError",value:function(e){console.log(e)}}]),e}();t.a=d},61:function(e,t,i){"use strict";function o(e){var t=e.slice(-1)[0],i=c.exec(t);return i?{x:i[1],y:i[2]}:{x:0,y:0}}var c=/<!-- ([.\d]+),([.\d]+) -->/;t.a={deserializeCommentToProject:function(e){var t=e.body.split("\r\n"),i=o(t);return{id:e.id,title:t[0],description:t[1],username:e.user.login,avatar_thumbnail:e.user.avatar_url+"&s=40",avatar:e.user.avatar_url+"&s=120",x:i.x,y:i.y,editMode:!1}},serializeProjectToComment:function(e){return e.title+"\r\n"+(e.description||"")+"\r\n\x3c!-- "+e.x+","+e.y+" --\x3e"}}},62:function(e,t,i){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var o=i(42),c=i(41),n=i.n(c);o.a.config.productionTip=!1,new o.a({el:"#app",template:"<App/>",components:{App:n.a}})},63:function(e,t,i){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var o=i(60),c=i(29),n=i(114),a=i.n(n),r=i(113),s=i.n(r),u=i(115),l=i.n(u),d=void 0;t.default={name:"app",data:function(){return{helpText:"",projects:[],mapWidth:0,mapHeight:0,form:{isOpen:!1,title:"",description:""},authenticationUrl:"",username:"",selectedProject:{id:"",avatar:"",username:"",editMode:"",title:"",description:""}}},methods:{toggleForm:function(){var e=this;return this.form.isOpen?(this.form.title=this.form.title.trim(),this.form.description=this.form.description.trim(),this.form.title||this.form.description?this.form.title?(d.postNewProject(this.form).then(function(t){e.projects.push(t),e.form.title="",e.form.description=""}).catch(function(e){return console.error(e)}),void(this.form.isOpen=!1)):void alert("Please enter a topic for your project"):void(this.form.isOpen=!1)):void(this.form.isOpen=!0)},leftDrag:function(e){var t=e.target.querySelector("img");e.dataTransfer.setDragImage(t,20,20);var i=e.target.dataset.id;e.dataTransfer.setData("projectId",i)},updateSelectedProject:function(e){this.selectedProject=e},centerDrop:function(e){var t=e.dataTransfer.getData("projectId"),i=this.projects.filter(function(e){return e.id===parseInt(t)})[0];this.updateMapDimensions();var o=i.x,c=i.y;i.x=e.offsetX/this.mapWidth,i.y=e.offsetY/this.mapHeight,d.updateProject(i).catch(function(e){console.log("update rejected",e),i.x=o,i.y=c})},updateMapDimensions:function(){var e=this.$el.querySelector(".floorplan");this.mapWidth=e.clientWidth,this.mapHeight=e.clientHeight},login:function(){d.ensureAuthenticatedClient().then(function(e){return console.log(e)})},logout:function(){this.username="",d.deauthenticateClient()},toggleEditMode:function(){this.selectedProject.editMode?(this.selectedProject.title=this.selectedProject.backup.title,this.selectedProject.description=this.selectedProject.backup.description):this.selectedProject.backup={title:this.selectedProject.title,description:this.selectedProject.description},this.selectedProject.editMode=!this.selectedProject.editMode},updateProject:function(){var e=this;d.updateProject(this.selectedProject).then(function(){e.selectedProject.editMode=!1}).catch(function(t){console.log("update rejected",t);var i=e.selectedProject.backup;e.selectedProject.title=i.title,e.selectedProject.description=i.description})}},components:{Left:a.a,Center:s.a,Right:l.a},mounted:function(){var e=this;d=new o.a({organization:"bkkhack",repository:"hackmap",label:"BKKHack Main Thread",onAuthenticationRequired:c.a.getOAuthToken,pollIntervalSeconds:60,onProjectsUpdated:function(t){e.projects=t},onHelpText:function(t){e.helpText=t},onUserAuthenticated:function(t){e.username=t.data.login}})}}},64:function(e,t,i){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default={name:"center",props:["helpText","username","projects","selectedProject"],methods:{dragover:function(e){this.$emit("dragover",e),e.preventDefault(),e.dataTransfer.dropEffect="copy"},drag:function(e){var t=e.target.dataset.id;e.dataTransfer.setData("projectId",t)},drop:function(e){this.$emit("drop",e)},login:function(){this.$emit("login")},logout:function(){this.$emit("logout")},updateMapDimensions:function(){var e=this.$el.querySelector(".floorplan");this.mapWidth=e.clientWidth,this.mapHeight=e.clientHeight},updateSelectedProject:function(e){this.$emit("updateSelectedProject",e)}},mounted:function(){window.addEventListener("resize",this.updateMapDimensions),this.updateMapDimensions()},beforeDestroy:function(){window.removeEventListener("resize",this.updateMapDimensions)}}},65:function(e,t,i){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default={name:"left",props:["form","projects","selectedProject","username"],methods:{toggleForm:function(){this.$emit("toggleForm")},drag:function(e){this.$emit("drag",e)},updateSelectedProject:function(e){this.$emit("updateSelectedProject",e)}}}},66:function(e,t,i){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default={name:"right",props:["selectedProject","username"],methods:{toggleEditMode:function(){this.$emit("toggleEditMode")},updateProject:function(){this.$emit("updateProject")}}}}},[62]);
//# sourceMappingURL=app.13f99877f858f5ecb4e2.js.map