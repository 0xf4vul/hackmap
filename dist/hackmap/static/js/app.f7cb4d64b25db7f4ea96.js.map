{"version":3,"sources":["webpack:///hackmap/static/js/app.f7cb4d64b25db7f4ea96.js","webpack:///./src/components/Center.vue","webpack:///./src/components/Left.vue","webpack:///./src/components/Right.vue","webpack:///./src/components/Center.vue?7402","webpack:///./src/App.vue?97c6","webpack:///./src/components/Right.vue?ed7c","webpack:///./src/components/Left.vue?9753","webpack:///./src/github-oauth.js","webpack:///./src/App.vue?fc6a","webpack:///./src/github-issues.js","webpack:///./src/github-serialization.js","webpack:///./src/main.js","webpack:///App.vue","webpack:///Center.vue","webpack:///Left.vue","webpack:///Right.vue"],"names":["webpackJsonp","106","module","exports","107","108","109","112","__webpack_require__","injectStyle","ssrContext","Component","113","114","115","render","_vm","this","_h","$createElement","_c","_self","staticClass","_v","domProps","innerHTML","_s","helpText","on","click","logout","username","login","dragover","drop","attrs","src","_l","project","key","id","class","selected","selectedProject","style","left","mapWidth","x","top","mapHeight","y","width","draggable","data-id","avatar_thumbnail","alt","title","dragstart","drag","$event","updateSelectedProject","_e","staticRenderFns","116","form","projects","toggleForm","leftDrag","centerDrop","toggleEditMode","updateProject","117","editMode","avatar","href","directives","name","rawName","value","expression","type","autofocus","input","target","composing","description","118","open","isOpen","placeholder","length","29","__webpack_exports__","__WEBPACK_IMPORTED_MODULE_0_babel_runtime_core_js_promise__","__WEBPACK_IMPORTED_MODULE_0_babel_runtime_core_js_promise___default","n","__WEBPACK_IMPORTED_MODULE_1_axios__","__WEBPACK_IMPORTED_MODULE_1_axios___default","landingPage","window","location","indexOf","replace","oAuthUrl","codeToTokenUrl","a","options","isLoggedIn","localStorage","getItem","logOut","removeItem","getOAuthToken","resolve","reject","token","oauthWindow","addEventListener","event","code","detail","get","then","response","setItem","data","close","catch","error","41","60","__WEBPACK_IMPORTED_MODULE_0_babel_runtime_helpers_classCallCheck__","__WEBPACK_IMPORTED_MODULE_0_babel_runtime_helpers_classCallCheck___default","__WEBPACK_IMPORTED_MODULE_1_babel_runtime_helpers_createClass__","__WEBPACK_IMPORTED_MODULE_1_babel_runtime_helpers_createClass___default","__WEBPACK_IMPORTED_MODULE_2_axios__","__WEBPACK_IMPORTED_MODULE_2_axios___default","__WEBPACK_IMPORTED_MODULE_3__github_serialization_js__","__WEBPACK_IMPORTED_MODULE_4__github_oauth_js__","GitHubIssueService","config","_this","github","createGithubApiClient","organization","repository","ensureAuthenticatedClient","repo","params","labels","label","issueResponse","Error","issue","onHelpText","body","issueNumber","number","pollIssueForComments","err","reportError","_this2","serializeProjectToComment","post","deserializeCommentToProject","_this3","patch","_this4","commentsUrl","poll","console","log","map","onProjectsUpdated","setInterval","pollIntervalSeconds","_this5","onAuthenticationRequired","isAuthenticated","onUserAuthenticated","org","getApiConfig","apiPath","baseURL","headers","Authorization","create","61","parseCoordinatesFromComment","commentLines","lastLine","slice","matches","commentExtractionRegex","exec","comment","textLines","split","coords","user","avatar_url","62","Object","defineProperty","__WEBPACK_IMPORTED_MODULE_0_vue__","__WEBPACK_IMPORTED_MODULE_1__App__","__WEBPACK_IMPORTED_MODULE_1__App___default","productionTip","el","template","components","App","63","__WEBPACK_IMPORTED_MODULE_0__github_issues_js__","__WEBPACK_IMPORTED_MODULE_1__github_oauth_js__","__WEBPACK_IMPORTED_MODULE_2__components_Left_vue__","__WEBPACK_IMPORTED_MODULE_2__components_Left_vue___default","__WEBPACK_IMPORTED_MODULE_3__components_Center_vue__","__WEBPACK_IMPORTED_MODULE_3__components_Center_vue___default","__WEBPACK_IMPORTED_MODULE_4__components_Right_vue__","__WEBPACK_IMPORTED_MODULE_4__components_Right_vue___default","githubIssue","authenticationUrl","methods","trim","postNewProject","push","alert","querySelector","dataTransfer","setDragImage","projectId","dataset","setData","getData","filter","p","parseInt","updateMapDimensions","oldX","oldY","offsetX","offsetY","floorplan","$el","clientWidth","clientHeight","deauthenticateClient","backup","Left","Center","Right","mounted","64","props","$emit","preventDefault","dropEffect","beforeDestroy","removeEventListener","65","66"],"mappings":"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","file":"hackmap/static/js/app.f7cb4d64b25db7f4ea96.js","sourcesContent":["webpackJsonp([1],{\n\n/***/ 106:\n/***/ (function(module, exports) {\n\n// removed by extract-text-webpack-plugin\n\n/***/ }),\n\n/***/ 107:\n/***/ (function(module, exports) {\n\n// removed by extract-text-webpack-plugin\n\n/***/ }),\n\n/***/ 108:\n/***/ (function(module, exports) {\n\n// removed by extract-text-webpack-plugin\n\n/***/ }),\n\n/***/ 109:\n/***/ (function(module, exports) {\n\n// removed by extract-text-webpack-plugin\n\n/***/ }),\n\n/***/ 112:\n/***/ (function(module, exports, __webpack_require__) {\n\nfunction injectStyle (ssrContext) {\n  __webpack_require__(106)\n}\nvar Component = __webpack_require__(13)(\n  /* script */\n  __webpack_require__(64),\n  /* template */\n  __webpack_require__(115),\n  /* styles */\n  injectStyle,\n  /* scopeId */\n  null,\n  /* moduleIdentifier (server only) */\n  null\n)\n\nmodule.exports = Component.exports\n\n\n/***/ }),\n\n/***/ 113:\n/***/ (function(module, exports, __webpack_require__) {\n\nfunction injectStyle (ssrContext) {\n  __webpack_require__(109)\n}\nvar Component = __webpack_require__(13)(\n  /* script */\n  __webpack_require__(65),\n  /* template */\n  __webpack_require__(118),\n  /* styles */\n  injectStyle,\n  /* scopeId */\n  null,\n  /* moduleIdentifier (server only) */\n  null\n)\n\nmodule.exports = Component.exports\n\n\n/***/ }),\n\n/***/ 114:\n/***/ (function(module, exports, __webpack_require__) {\n\nfunction injectStyle (ssrContext) {\n  __webpack_require__(108)\n}\nvar Component = __webpack_require__(13)(\n  /* script */\n  __webpack_require__(66),\n  /* template */\n  __webpack_require__(117),\n  /* styles */\n  injectStyle,\n  /* scopeId */\n  null,\n  /* moduleIdentifier (server only) */\n  null\n)\n\nmodule.exports = Component.exports\n\n\n/***/ }),\n\n/***/ 115:\n/***/ (function(module, exports) {\n\nmodule.exports={render:function (){var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;\n  return _c('div', {\n    staticClass: \"center-column\"\n  }, [_c('h1', [_vm._v(\"BKKHackmap\")]), _vm._v(\" \"), _c('a', {\n    staticClass: \"help-icon\"\n  }, [_vm._v(\"?\"), _c('div', {\n    staticClass: \"help-text\",\n    domProps: {\n      \"innerHTML\": _vm._s(_vm.helpText)\n    }\n  })]), _vm._v(\" \"), (_vm.username) ? _c('a', {\n    staticClass: \"account-status\",\n    on: {\n      \"click\": _vm.logout\n    }\n  }, [_vm._v(_vm._s(_vm.username) + \" (Log out)\")]) : _c('a', {\n    staticClass: \"account-status\",\n    on: {\n      \"click\": _vm.login\n    }\n  }, [_vm._v(\"Log in\")]), _vm._v(\" \"), _c('div', {\n    staticClass: \"droptarget\",\n    on: {\n      \"dragover\": _vm.dragover,\n      \"drop\": _vm.drop\n    }\n  }, [_c('img', {\n    staticClass: \"floorplan\",\n    attrs: {\n      \"src\": \"/static/carmana.svg\"\n    }\n  }), _vm._v(\" \"), _vm._l((_vm.projects), function(project) {\n    return (project.x) ? _c('img', {\n      key: project.id,\n      staticClass: \"marker\",\n      class: {\n        selected: _vm.selectedProject === project\n      },\n      style: ({\n        left: _vm.mapWidth * project.x - 20 + 'px',\n        top: _vm.mapHeight * project.y - 20 + 'px'\n      }),\n      attrs: {\n        \"width\": \"36\",\n        \"draggable\": project.username === _vm.username,\n        \"data-id\": project.id,\n        \"src\": project.avatar_thumbnail,\n        \"alt\": project.username,\n        \"title\": project.title\n      },\n      on: {\n        \"dragstart\": _vm.drag,\n        \"click\": function($event) {\n          _vm.updateSelectedProject(project)\n        }\n      }\n    }) : _vm._e()\n  })], 2)])\n},staticRenderFns: []}\n\n/***/ }),\n\n/***/ 116:\n/***/ (function(module, exports) {\n\nmodule.exports={render:function (){var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;\n  return _c('div', {\n    attrs: {\n      \"id\": \"appContainer\"\n    }\n  }, [_c('left', {\n    attrs: {\n      \"form\": _vm.form,\n      \"projects\": _vm.projects,\n      \"selectedProject\": _vm.selectedProject,\n      \"username\": _vm.username\n    },\n    on: {\n      \"toggleForm\": _vm.toggleForm,\n      \"updateSelectedProject\": _vm.updateSelectedProject,\n      \"drag\": _vm.leftDrag\n    }\n  }), _vm._v(\" \"), _c('center', {\n    attrs: {\n      \"projects\": _vm.projects,\n      \"selectedProject\": _vm.selectedProject,\n      \"helpText\": _vm.helpText,\n      \"username\": _vm.username\n    },\n    on: {\n      \"updateSelectedProject\": _vm.updateSelectedProject,\n      \"login\": _vm.login,\n      \"logout\": _vm.logout,\n      \"drop\": _vm.centerDrop\n    }\n  }), _vm._v(\" \"), _c('right', {\n    attrs: {\n      \"selectedProject\": _vm.selectedProject,\n      \"username\": _vm.username\n    },\n    on: {\n      \"toggleEditMode\": _vm.toggleEditMode,\n      \"updateProject\": _vm.updateProject\n    }\n  })], 1)\n},staticRenderFns: []}\n\n/***/ }),\n\n/***/ 117:\n/***/ (function(module, exports) {\n\nmodule.exports={render:function (){var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;\n  return _c('div', {\n    staticClass: \"details side-column\"\n  }, [(_vm.selectedProject.id) ? [(_vm.selectedProject.username === _vm.username) ? _c('a', {\n    staticClass: \"edit-button\",\n    on: {\n      \"click\": _vm.toggleEditMode\n    }\n  }, [_vm._v(_vm._s(_vm.selectedProject.editMode ? \"X\" : \"Edit\"))]) : _vm._e(), _vm._v(\" \"), _c('img', {\n    staticClass: \"avatar\",\n    attrs: {\n      \"src\": _vm.selectedProject.avatar,\n      \"alt\": _vm.selectedProject.username,\n      \"width\": \"122\"\n    }\n  }), _vm._v(\" \"), _c('p', [_c('a', {\n    attrs: {\n      \"href\": 'https://github.com/' + _vm.selectedProject.username\n    }\n  }, [_vm._v(\"@\" + _vm._s(_vm.selectedProject.username))]), _vm._v(\" is hacking on:\")]), _vm._v(\" \"), (!_vm.selectedProject.editMode) ? [_c('h2', [_vm._v(_vm._s(_vm.selectedProject.title))]), _vm._v(\" \"), _c('p', {\n    staticClass: \"selected-project-description\"\n  }, [_vm._v(_vm._s(_vm.selectedProject.description))])] : [_c('input', {\n    directives: [{\n      name: \"model\",\n      rawName: \"v-model\",\n      value: (_vm.selectedProject.title),\n      expression: \"selectedProject.title\"\n    }],\n    attrs: {\n      \"type\": \"text\",\n      \"autofocus\": \"\"\n    },\n    domProps: {\n      \"value\": (_vm.selectedProject.title)\n    },\n    on: {\n      \"input\": function($event) {\n        if ($event.target.composing) { return; }\n        _vm.selectedProject.title = $event.target.value\n      }\n    }\n  }), _vm._v(\" \"), _c('textarea', {\n    directives: [{\n      name: \"model\",\n      rawName: \"v-model\",\n      value: (_vm.selectedProject.description),\n      expression: \"selectedProject.description\"\n    }],\n    domProps: {\n      \"value\": (_vm.selectedProject.description)\n    },\n    on: {\n      \"input\": function($event) {\n        if ($event.target.composing) { return; }\n        _vm.selectedProject.description = $event.target.value\n      }\n    }\n  }), _vm._v(\" \"), _c('button', {\n    staticClass: \"glow-button\",\n    on: {\n      \"click\": _vm.updateProject\n    }\n  }, [_vm._v(\"Update\")])]] : _vm._e()], 2)\n},staticRenderFns: []}\n\n/***/ }),\n\n/***/ 118:\n/***/ (function(module, exports) {\n\nmodule.exports={render:function (){var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;\n  return _c('div', {\n    staticClass: \"projects side-column\"\n  }, [_c('div', {\n    staticClass: \"project-form\",\n    class: {\n      open: _vm.form.isOpen\n    }\n  }, [_c('input', {\n    directives: [{\n      name: \"model\",\n      rawName: \"v-model\",\n      value: (_vm.form.title),\n      expression: \"form.title\"\n    }],\n    attrs: {\n      \"type\": \"text\",\n      \"placeholder\": \"Topic\",\n      \"autofocus\": \"\"\n    },\n    domProps: {\n      \"value\": (_vm.form.title)\n    },\n    on: {\n      \"input\": function($event) {\n        if ($event.target.composing) { return; }\n        _vm.form.title = $event.target.value\n      }\n    }\n  }), _vm._v(\" \"), _c('textarea', {\n    directives: [{\n      name: \"model\",\n      rawName: \"v-model\",\n      value: (_vm.form.description),\n      expression: \"form.description\"\n    }],\n    attrs: {\n      \"placeholder\": \"More description (optional)\"\n    },\n    domProps: {\n      \"value\": (_vm.form.description)\n    },\n    on: {\n      \"input\": function($event) {\n        if ($event.target.composing) { return; }\n        _vm.form.description = $event.target.value\n      }\n    }\n  })]), _vm._v(\" \"), _c('button', {\n    staticClass: \"glow-button\",\n    on: {\n      \"click\": _vm.toggleForm\n    }\n  }, [_vm._v(\"+ Add your hack\")]), _vm._v(\" \"), _vm._l((_vm.projects), function(project) {\n    return _c('div', {\n      key: project.id,\n      staticClass: \"project\",\n      class: {\n        selected: _vm.selectedProject === project\n      },\n      attrs: {\n        \"data-id\": project.id,\n        \"draggable\": project.username === _vm.username\n      },\n      on: {\n        \"dragstart\": _vm.drag,\n        \"click\": function($event) {\n          _vm.updateSelectedProject(project)\n        }\n      }\n    }, [_c('img', {\n      attrs: {\n        \"src\": project.avatar_thumbnail,\n        \"width\": \"36\",\n        \"alt\": project.username,\n        \"draggable\": \"false\"\n      }\n    }), _vm._v(\"\\n  \" + _vm._s(project.title) + \"\\n  \")])\n  }), _vm._v(\" \"), (_vm.projects.length === 0) ? _c('div', {\n    staticClass: \"details\"\n  }, [_vm._v(\"\\n    No hacks yet! You can be first!\\n  \")]) : _vm._e(), _vm._v(\" \"), (_vm.projects.loading) ? _c('div', {\n    staticClass: \"loader\"\n  }, [_c('div', {\n    staticClass: \"loader1\"\n  }), _vm._v(\" \"), _c('div', {\n    staticClass: \"loader2\"\n  }), _vm._v(\" \"), _c('div', {\n    staticClass: \"loader3\"\n  })]) : _vm._e()], 2)\n},staticRenderFns: []}\n\n/***/ }),\n\n/***/ 29:\n/***/ (function(module, __webpack_exports__, __webpack_require__) {\n\n\"use strict\";\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_0_babel_runtime_core_js_promise__ = __webpack_require__(68);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_0_babel_runtime_core_js_promise___default = __webpack_require__.n(__WEBPACK_IMPORTED_MODULE_0_babel_runtime_core_js_promise__);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_1_axios__ = __webpack_require__(23);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_1_axios___default = __webpack_require__.n(__WEBPACK_IMPORTED_MODULE_1_axios__);\n\n/*\n * Handles the 'oauth dance' for our application.\n */\n // ajax library\n\nvar clientId = '1b717d04ec7f3615bb18';\n// the following url needs to match the app configuration on github.com\nvar landingPage = window.location.href.indexOf('index.html') >= 0 ? window.location.href.replace('index.html', 'oauth_redirect.html') : window.location.href + 'oauth_redirect.html';\nvar tokenKey = 'token';\nvar oAuthUrl = 'https://github.com/login/oauth/authorize?scope=public_repo&redirect_uri=' + landingPage + '&client_id=' + clientId;\n// our heroku instance that hides the oauth secret. running https://github.com/prose/gatekeeper\nvar codeToTokenUrl = 'https://bkkhackmap.herokuapp.com/authenticate/';\n\n// HTTP Options call to wake the heroku instance. we don't care about the\n// response. we just want the oauth login to be quick.\n__WEBPACK_IMPORTED_MODULE_1_axios___default.a.options(codeToTokenUrl);\n\n/* harmony default export */ __webpack_exports__[\"a\"] = ({\n  isLoggedIn: function isLoggedIn() {\n    return !!window.localStorage.getItem(tokenKey);\n  },\n  logOut: function logOut() {\n    window.localStorage.removeItem(tokenKey);\n  },\n  // implements https://developer.github.com/v3/oauth/#web-application-flow\n  getOAuthToken: function getOAuthToken() {\n    return new __WEBPACK_IMPORTED_MODULE_0_babel_runtime_core_js_promise___default.a(function (resolve, reject) {\n      // if we already have a token, just return it\n      var token = window.localStorage.getItem(tokenKey);\n      if (token) {\n        resolve(token);\n        return;\n      }\n      // otherwise, open a window to do the github login\n      // github will redirect to landingPage, which will fire an\n      // event with the github auth code\n      var oauthWindow = window.open(oAuthUrl); // needs to be a new window. github can't be embedded in an iframe for security reasons\n      window.addEventListener('oauth-code-received', function (event) {\n        var code = event.detail;\n        // we received the code exchange it for an auth token.\n        // this part needs to interact with a server because we need to hide the oAuth secret.\n        // the server is just a heroku app running https://github.com/prose/gatekeeper\n        __WEBPACK_IMPORTED_MODULE_1_axios___default.a.get(codeToTokenUrl + code).then(function (response) {\n          window.localStorage.setItem(tokenKey, response.data.token);\n          oauthWindow.close();\n          resolve(response.data.token);\n        }).catch(function (error) {\n          return reject(error);\n        });\n      });\n    });\n  }\n});\n\n/***/ }),\n\n/***/ 41:\n/***/ (function(module, exports, __webpack_require__) {\n\nfunction injectStyle (ssrContext) {\n  __webpack_require__(107)\n}\nvar Component = __webpack_require__(13)(\n  /* script */\n  __webpack_require__(63),\n  /* template */\n  __webpack_require__(116),\n  /* styles */\n  injectStyle,\n  /* scopeId */\n  null,\n  /* moduleIdentifier (server only) */\n  null\n)\n\nmodule.exports = Component.exports\n\n\n/***/ }),\n\n/***/ 60:\n/***/ (function(module, __webpack_exports__, __webpack_require__) {\n\n\"use strict\";\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_0_babel_runtime_helpers_classCallCheck__ = __webpack_require__(69);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_0_babel_runtime_helpers_classCallCheck___default = __webpack_require__.n(__WEBPACK_IMPORTED_MODULE_0_babel_runtime_helpers_classCallCheck__);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_1_babel_runtime_helpers_createClass__ = __webpack_require__(70);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_1_babel_runtime_helpers_createClass___default = __webpack_require__.n(__WEBPACK_IMPORTED_MODULE_1_babel_runtime_helpers_createClass__);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_2_axios__ = __webpack_require__(23);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_2_axios___default = __webpack_require__.n(__WEBPACK_IMPORTED_MODULE_2_axios__);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_3__github_serialization_js__ = __webpack_require__(61);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_4__github_oauth_js__ = __webpack_require__(29);\n\n\n // ajax library\n\n\n\n/*\n * GitHub Issues API. Handles saving and polling of\n * projects, stored as github issue comments.\n *\n * Expects a configuration of:\n * {\n *    organization: 'bkkhack',\n *    repository: 'hackmap',\n *    label: 'BKKHack Main Thread',\n *    pollIntervalSeconds: 60,\n *    onAuthenticationRequired: () => Promise(token)\n *    onProjectsUpdated: (projects) => ()\n * }\n */\n\nvar GitHubIssueService = function () {\n  function GitHubIssueService(config) {\n    var _this = this;\n\n    __WEBPACK_IMPORTED_MODULE_0_babel_runtime_helpers_classCallCheck___default()(this, GitHubIssueService);\n\n    this.config = config;\n    this.github = this.createGithubApiClient(config.organization, config.repository);\n\n    // if the user has already logged in (e.g. in a previous session), use the\n    // authenticated client for all operations. Authenticated calls have a\n    // higher rate limit, even for calls that don't require authentication\n    if (__WEBPACK_IMPORTED_MODULE_4__github_oauth_js__[\"a\" /* default */].isLoggedIn()) {\n      this.ensureAuthenticatedClient();\n    }\n\n    // issue ajax requests to load data from github\n    // the model will be updated periodically from the callbacks\n    this.github.repo.get('issues', { params: { labels: this.config.label } }).then(function (issueResponse) {\n      if (!issueResponse.data.length) {\n        throw new Error('Could not find an open issue labeled: ' + _this.config.label);\n      }\n      var issue = issueResponse.data[0];\n      config.onHelpText(issue.body);\n      _this.issueNumber = issue.number;\n    }).then(function () {\n      return _this.pollIssueForComments();\n    }).catch(function (err) {\n      return _this.reportError(err);\n    });\n  }\n\n  __WEBPACK_IMPORTED_MODULE_1_babel_runtime_helpers_createClass___default()(GitHubIssueService, [{\n    key: 'postNewProject',\n    value: function postNewProject(project) {\n      var _this2 = this;\n\n      return this.ensureAuthenticatedClient().then(function () {\n        var body = __WEBPACK_IMPORTED_MODULE_3__github_serialization_js__[\"a\" /* default */].serializeProjectToComment(project);\n        return _this2.github.repo.post('issues/' + _this2.issueNumber + '/comments', { body: body });\n      }).then(function (response) {\n        return __WEBPACK_IMPORTED_MODULE_3__github_serialization_js__[\"a\" /* default */].deserializeCommentToProject(response.data);\n      });\n    }\n  }, {\n    key: 'updateProject',\n    value: function updateProject(project) {\n      var _this3 = this;\n\n      return this.ensureAuthenticatedClient().then(function () {\n        var body = __WEBPACK_IMPORTED_MODULE_3__github_serialization_js__[\"a\" /* default */].serializeProjectToComment(project);\n        return _this3.github.repo.patch('issues/comments/' + project.id, { body: body });\n      }).then(function (response) {\n        return __WEBPACK_IMPORTED_MODULE_3__github_serialization_js__[\"a\" /* default */].deserializeCommentToProject(response.data);\n      });\n    }\n  }, {\n    key: 'pollIssueForComments',\n    value: function pollIssueForComments() {\n      var _this4 = this;\n\n      var commentsUrl = 'issues/' + this.issueNumber + '/comments';\n\n      var poll = function poll() {\n        console.log('polling...');\n        return _this4.github.repo.get(commentsUrl).then(function (response) {\n          var projects = response.data.map(__WEBPACK_IMPORTED_MODULE_3__github_serialization_js__[\"a\" /* default */].deserializeCommentToProject);\n          _this4.config.onProjectsUpdated(projects);\n        }).catch(function (err) {\n          return _this4.reportError(err);\n        });\n      };\n\n      window.setInterval(poll, 1000 * this.config.pollIntervalSeconds);\n      return poll();\n    }\n  }, {\n    key: 'ensureAuthenticatedClient',\n    value: function ensureAuthenticatedClient() {\n      var _this5 = this;\n\n      return this.config.onAuthenticationRequired().then(function (token) {\n        if (!_this5.github.isAuthenticated) {\n          _this5.github = _this5.createGithubApiClient(_this5.config.organization, _this5.config.repository, token);\n          _this5.github.isAuthenticated = true;\n          return _this5.github.get('user');\n        }\n      }).then(function (response) {\n        if (response) {\n          _this5.config.onUserAuthenticated(response);\n        }\n      });\n    }\n  }, {\n    key: 'deauthenticateClient',\n    value: function deauthenticateClient() {\n      __WEBPACK_IMPORTED_MODULE_4__github_oauth_js__[\"a\" /* default */].logOut();\n      this.github = this.createGithubApiClient(this.config.organization, this.config.repository);\n    }\n  }, {\n    key: 'createGithubApiClient',\n    value: function createGithubApiClient(org, repo, token) {\n      function getApiConfig(apiPath) {\n        var config = {\n          baseURL: 'https://api.github.com/' + (apiPath || '')\n        };\n        if (token) {\n          config.headers = { 'Authorization': 'token ' + token };\n        }\n        return config;\n      }\n      // general github ajax client\n      var github = __WEBPACK_IMPORTED_MODULE_2_axios___default.a.create(getApiConfig());\n\n      // repo-specific ajax client\n      github.repo = __WEBPACK_IMPORTED_MODULE_2_axios___default.a.create(getApiConfig('repos/' + org + '/' + repo + '/'));\n\n      return github;\n    }\n  }, {\n    key: 'reportError',\n    value: function reportError(err) {\n      console.log(err);\n    }\n  }]);\n\n  return GitHubIssueService;\n}();\n\n/* harmony default export */ __webpack_exports__[\"a\"] = (GitHubIssueService);\n\n/***/ }),\n\n/***/ 61:\n/***/ (function(module, __webpack_exports__, __webpack_require__) {\n\n\"use strict\";\n/* Handles converting the app's concept of a 'project'\n * to/from the GitHub API's concept of an 'issue'\n */\n\nvar commentExtractionRegex = /<!-- ([.\\d]+),([.\\d]+) -->/;\n\nfunction parseCoordinatesFromComment(commentLines) {\n  var lastLine = commentLines.slice(-1)[0];\n  var matches = commentExtractionRegex.exec(lastLine);\n\n  return matches ? { x: matches[1], y: matches[2] } : { x: 0, y: 0 };\n}\n\n/* harmony default export */ __webpack_exports__[\"a\"] = ({\n  deserializeCommentToProject: function deserializeCommentToProject(comment) {\n    var textLines = comment.body.split('\\r\\n');\n    var coords = parseCoordinatesFromComment(textLines);\n    return {\n      id: comment.id,\n      title: textLines[0],\n      description: textLines[1],\n      username: comment.user.login,\n      avatar_thumbnail: comment.user.avatar_url + '&s=' + 40,\n      avatar: comment.user.avatar_url + '&s=' + 120,\n      x: coords.x,\n      y: coords.y,\n      editMode: false\n    };\n  },\n\n  serializeProjectToComment: function serializeProjectToComment(project) {\n    var body = project.title + '\\r\\n' + (project.description || '') + '\\r\\n' + ('<!-- ' + project.x + ',' + project.y + ' -->');\n    return body;\n  }\n});\n\n/***/ }),\n\n/***/ 62:\n/***/ (function(module, __webpack_exports__, __webpack_require__) {\n\n\"use strict\";\nObject.defineProperty(__webpack_exports__, \"__esModule\", { value: true });\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_0_vue__ = __webpack_require__(42);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_1__App__ = __webpack_require__(41);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_1__App___default = __webpack_require__.n(__WEBPACK_IMPORTED_MODULE_1__App__);\n// The Vue build version to load with the `import` command\n// (runtime-only or standalone) has been set in webpack.base.conf with an alias.\n\n\n\n__WEBPACK_IMPORTED_MODULE_0_vue__[\"a\" /* default */].config.productionTip = false;\n\n/* eslint-disable no-new */\nnew __WEBPACK_IMPORTED_MODULE_0_vue__[\"a\" /* default */]({\n  el: '#app',\n  template: '<App/>',\n  components: { App: __WEBPACK_IMPORTED_MODULE_1__App___default.a }\n});\n\n/***/ }),\n\n/***/ 63:\n/***/ (function(module, __webpack_exports__, __webpack_require__) {\n\n\"use strict\";\nObject.defineProperty(__webpack_exports__, \"__esModule\", { value: true });\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_0__github_issues_js__ = __webpack_require__(60);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_1__github_oauth_js__ = __webpack_require__(29);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_2__components_Left_vue__ = __webpack_require__(113);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_2__components_Left_vue___default = __webpack_require__.n(__WEBPACK_IMPORTED_MODULE_2__components_Left_vue__);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_3__components_Center_vue__ = __webpack_require__(112);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_3__components_Center_vue___default = __webpack_require__.n(__WEBPACK_IMPORTED_MODULE_3__components_Center_vue__);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_4__components_Right_vue__ = __webpack_require__(114);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_4__components_Right_vue___default = __webpack_require__.n(__WEBPACK_IMPORTED_MODULE_4__components_Right_vue__);\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n\n\n\n\n\n\n\nvar githubIssue = void 0;\n/* harmony default export */ __webpack_exports__[\"default\"] = ({\n  name: 'app',\n  data: function data() {\n    return {\n      helpText: '',\n      projects: [],\n      mapWidth: 0,\n      mapHeight: 0,\n      form: {\n        isOpen: false,\n        title: '',\n        description: ''\n      },\n      authenticationUrl: '',\n      username: '',\n      selectedProject: {\n        id: '',\n        avatar: '',\n        username: '',\n        editMode: '',\n        title: '',\n        description: ''\n      }\n    };\n  },\n\n  methods: {\n    toggleForm: function toggleForm() {\n      var _this = this;\n\n      if (!this.form.isOpen) {\n        this.form.isOpen = true;\n        return;\n      }\n      this.form.title = this.form.title.trim();\n      this.form.description = this.form.description.trim();\n\n      if (!this.form.title && !this.form.description) {\n        // empty form, close it.\n        this.form.isOpen = false;\n        return;\n      } else if (!this.form.title) {\n        // user filled in a description, but not a title\n        alert('Please enter a topic for your project');\n        return;\n      } else {\n        // title and optional description provided, save the text\n        githubIssue.postNewProject(this.form).then(function (project) {\n          // add the new project and blank the form.\n          _this.projects.push(project);\n          _this.form.title = '';\n          _this.form.description = '';\n        }).catch(function (err) {\n          return console.error(err);\n        });\n        this.form.isOpen = false;\n      }\n    },\n    leftDrag: function leftDrag(event) {\n      var avatar = event.target.querySelector('img');\n      event.dataTransfer.setDragImage(avatar, 20, 20);\n      var projectId = event.target.dataset.id;\n      event.dataTransfer.setData('projectId', projectId);\n    },\n    updateSelectedProject: function updateSelectedProject(project) {\n      this.selectedProject = project;\n    },\n    centerDrop: function centerDrop(event) {\n      var projectId = event.dataTransfer.getData('projectId');\n      var project = this.projects.filter(function (p) {\n        return p.id === parseInt(projectId);\n      })[0];\n      this.updateMapDimensions();\n      // record old x and y values in case the API rejects our update, so we can revert to them\n      var oldX = project.x;\n      var oldY = project.y;\n      // the map is a percentage width of the overall window, so we need\n      // to save x and y as percentage values.\n      project.x = event.offsetX / this.mapWidth;\n      project.y = event.offsetY / this.mapHeight;\n      githubIssue.updateProject(project).catch(function (err) {\n        console.log('update rejected', err);\n        project.x = oldX;\n        project.y = oldY;\n      });\n    },\n    updateMapDimensions: function updateMapDimensions() {\n      var floorplan = this.$el.querySelector('.floorplan');\n      this.mapWidth = floorplan.clientWidth;\n      this.mapHeight = floorplan.clientHeight;\n    },\n    login: function login() {\n      githubIssue.ensureAuthenticatedClient().then(function (data) {\n        return console.log(data);\n      });\n    },\n    logout: function logout() {\n      this.username = '';\n      githubIssue.deauthenticateClient();\n    },\n    toggleEditMode: function toggleEditMode() {\n      if (!this.selectedProject.editMode) {\n        // entering edit mode\n        this.selectedProject.backup = {\n          title: this.selectedProject.title,\n          description: this.selectedProject.description\n        };\n      } else {\n        // cancelling edit mode\n        this.selectedProject.title = this.selectedProject.backup.title;\n        this.selectedProject.description = this.selectedProject.backup.description;\n      }\n      this.selectedProject.editMode = !this.selectedProject.editMode;\n    },\n    updateProject: function updateProject() {\n      var _this2 = this;\n\n      githubIssue.updateProject(this.selectedProject).then(function () {\n        _this2.selectedProject.editMode = false;\n      }).catch(function (err) {\n        console.log('update rejected', err);\n        var backup = _this2.selectedProject.backup;\n        _this2.selectedProject.title = backup.title;\n        _this2.selectedProject.description = backup.description;\n      });\n    }\n  },\n  components: {\n    Left: __WEBPACK_IMPORTED_MODULE_2__components_Left_vue___default.a,\n    Center: __WEBPACK_IMPORTED_MODULE_3__components_Center_vue___default.a,\n    Right: __WEBPACK_IMPORTED_MODULE_4__components_Right_vue___default.a\n  },\n  mounted: function mounted() {\n    var _this3 = this;\n\n    githubIssue = new __WEBPACK_IMPORTED_MODULE_0__github_issues_js__[\"a\" /* default */]({\n      organization: 'bkkhack',\n      repository: 'hackmap',\n      label: 'BKKHack Main Thread',\n      onAuthenticationRequired: __WEBPACK_IMPORTED_MODULE_1__github_oauth_js__[\"a\" /* default */].getOAuthToken,\n      pollIntervalSeconds: 60,\n      onProjectsUpdated: function onProjectsUpdated(projects) {\n        _this3.projects = projects;\n      },\n      onHelpText: function onHelpText(helpText) {\n        _this3.helpText = helpText;\n      },\n      onUserAuthenticated: function onUserAuthenticated(response) {\n        _this3.username = response.data.login;\n      }\n    });\n  }\n});\n\n/***/ }),\n\n/***/ 64:\n/***/ (function(module, __webpack_exports__, __webpack_require__) {\n\n\"use strict\";\nObject.defineProperty(__webpack_exports__, \"__esModule\", { value: true });\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n\n/* harmony default export */ __webpack_exports__[\"default\"] = ({\n  name: 'center',\n  props: ['helpText', 'username', 'projects', 'selectedProject'],\n  methods: {\n    dragover: function dragover(event) {\n      this.$emit('dragover', event);\n      event.preventDefault(); // mark this element as a drop target.\n      event.dataTransfer.dropEffect = 'copy';\n    },\n    drag: function drag(event) {\n      var projectId = event.target.dataset.id;\n      event.dataTransfer.setData('projectId', projectId);\n    },\n    drop: function drop(event) {\n      this.$emit('drop', event);\n    },\n    login: function login() {\n      this.$emit('login');\n    },\n    logout: function logout() {\n      this.$emit('logout');\n    },\n    updateMapDimensions: function updateMapDimensions() {\n      var floorplan = this.$el.querySelector('.floorplan');\n      this.mapWidth = floorplan.clientWidth;\n      this.mapHeight = floorplan.clientHeight;\n    },\n    updateSelectedProject: function updateSelectedProject(project) {\n      this.$emit('updateSelectedProject', project);\n    }\n  },\n  mounted: function mounted() {\n    window.addEventListener('resize', this.updateMapDimensions);\n    this.updateMapDimensions();\n  },\n  beforeDestroy: function beforeDestroy() {\n    window.removeEventListener('resize', this.updateMapDimensions);\n  }\n});\n\n/***/ }),\n\n/***/ 65:\n/***/ (function(module, __webpack_exports__, __webpack_require__) {\n\n\"use strict\";\nObject.defineProperty(__webpack_exports__, \"__esModule\", { value: true });\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n\n/* harmony default export */ __webpack_exports__[\"default\"] = ({\n  name: 'left',\n  props: ['form', 'projects', 'selectedProject', 'username'],\n  methods: {\n    toggleForm: function toggleForm() {\n      this.$emit('toggleForm');\n    },\n    drag: function drag(event) {\n      this.$emit('drag', event);\n    },\n    updateSelectedProject: function updateSelectedProject(project) {\n      this.$emit('updateSelectedProject', project);\n    }\n  }\n});\n\n/***/ }),\n\n/***/ 66:\n/***/ (function(module, __webpack_exports__, __webpack_require__) {\n\n\"use strict\";\nObject.defineProperty(__webpack_exports__, \"__esModule\", { value: true });\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n\n/* harmony default export */ __webpack_exports__[\"default\"] = ({\n  name: 'right',\n  props: ['selectedProject', 'username'],\n  methods: {\n    toggleEditMode: function toggleEditMode() {\n      this.$emit('toggleEditMode');\n    },\n    updateProject: function updateProject() {\n      this.$emit('updateProject');\n    }\n  }\n});\n\n/***/ })\n\n},[62]);\n\n\n// WEBPACK FOOTER //\n// hackmap/static/js/app.f7cb4d64b25db7f4ea96.js","function injectStyle (ssrContext) {\n  require(\"!!../../node_modules/extract-text-webpack-plugin/loader.js?{\\\"omit\\\":1,\\\"remove\\\":true}!vue-style-loader!css-loader?{\\\"minimize\\\":true,\\\"sourceMap\\\":true}!../../node_modules/vue-loader/lib/style-compiler/index?{\\\"vue\\\":true,\\\"id\\\":\\\"data-v-05004391\\\",\\\"scoped\\\":false,\\\"hasInlineConfig\\\":false}!../../node_modules/vue-loader/lib/selector?type=styles&index=0!./Center.vue\")\n}\nvar Component = require(\"!../../node_modules/vue-loader/lib/component-normalizer\")(\n  /* script */\n  require(\"!!babel-loader!../../node_modules/vue-loader/lib/selector?type=script&index=0!./Center.vue\"),\n  /* template */\n  require(\"!!../../node_modules/vue-loader/lib/template-compiler/index?{\\\"id\\\":\\\"data-v-05004391\\\",\\\"hasScoped\\\":false,\\\"transformToRequire\\\":{\\\"video\\\":\\\"src\\\",\\\"source\\\":\\\"src\\\",\\\"img\\\":\\\"src\\\",\\\"image\\\":\\\"xlink:href\\\"}}!../../node_modules/vue-loader/lib/selector?type=template&index=0!./Center.vue\"),\n  /* styles */\n  injectStyle,\n  /* scopeId */\n  null,\n  /* moduleIdentifier (server only) */\n  null\n)\n\nmodule.exports = Component.exports\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./src/components/Center.vue\n// module id = 112\n// module chunks = 1","function injectStyle (ssrContext) {\n  require(\"!!../../node_modules/extract-text-webpack-plugin/loader.js?{\\\"omit\\\":1,\\\"remove\\\":true}!vue-style-loader!css-loader?{\\\"minimize\\\":true,\\\"sourceMap\\\":true}!../../node_modules/vue-loader/lib/style-compiler/index?{\\\"vue\\\":true,\\\"id\\\":\\\"data-v-b1f3317a\\\",\\\"scoped\\\":false,\\\"hasInlineConfig\\\":false}!../../node_modules/vue-loader/lib/selector?type=styles&index=0!./Left.vue\")\n}\nvar Component = require(\"!../../node_modules/vue-loader/lib/component-normalizer\")(\n  /* script */\n  require(\"!!babel-loader!../../node_modules/vue-loader/lib/selector?type=script&index=0!./Left.vue\"),\n  /* template */\n  require(\"!!../../node_modules/vue-loader/lib/template-compiler/index?{\\\"id\\\":\\\"data-v-b1f3317a\\\",\\\"hasScoped\\\":false,\\\"transformToRequire\\\":{\\\"video\\\":\\\"src\\\",\\\"source\\\":\\\"src\\\",\\\"img\\\":\\\"src\\\",\\\"image\\\":\\\"xlink:href\\\"}}!../../node_modules/vue-loader/lib/selector?type=template&index=0!./Left.vue\"),\n  /* styles */\n  injectStyle,\n  /* scopeId */\n  null,\n  /* moduleIdentifier (server only) */\n  null\n)\n\nmodule.exports = Component.exports\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./src/components/Left.vue\n// module id = 113\n// module chunks = 1","function injectStyle (ssrContext) {\n  require(\"!!../../node_modules/extract-text-webpack-plugin/loader.js?{\\\"omit\\\":1,\\\"remove\\\":true}!vue-style-loader!css-loader?{\\\"minimize\\\":true,\\\"sourceMap\\\":true}!../../node_modules/vue-loader/lib/style-compiler/index?{\\\"vue\\\":true,\\\"id\\\":\\\"data-v-770b9b10\\\",\\\"scoped\\\":false,\\\"hasInlineConfig\\\":false}!../../node_modules/vue-loader/lib/selector?type=styles&index=0!./Right.vue\")\n}\nvar Component = require(\"!../../node_modules/vue-loader/lib/component-normalizer\")(\n  /* script */\n  require(\"!!babel-loader!../../node_modules/vue-loader/lib/selector?type=script&index=0!./Right.vue\"),\n  /* template */\n  require(\"!!../../node_modules/vue-loader/lib/template-compiler/index?{\\\"id\\\":\\\"data-v-770b9b10\\\",\\\"hasScoped\\\":false,\\\"transformToRequire\\\":{\\\"video\\\":\\\"src\\\",\\\"source\\\":\\\"src\\\",\\\"img\\\":\\\"src\\\",\\\"image\\\":\\\"xlink:href\\\"}}!../../node_modules/vue-loader/lib/selector?type=template&index=0!./Right.vue\"),\n  /* styles */\n  injectStyle,\n  /* scopeId */\n  null,\n  /* moduleIdentifier (server only) */\n  null\n)\n\nmodule.exports = Component.exports\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./src/components/Right.vue\n// module id = 114\n// module chunks = 1","module.exports={render:function (){var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;\n  return _c('div', {\n    staticClass: \"center-column\"\n  }, [_c('h1', [_vm._v(\"BKKHackmap\")]), _vm._v(\" \"), _c('a', {\n    staticClass: \"help-icon\"\n  }, [_vm._v(\"?\"), _c('div', {\n    staticClass: \"help-text\",\n    domProps: {\n      \"innerHTML\": _vm._s(_vm.helpText)\n    }\n  })]), _vm._v(\" \"), (_vm.username) ? _c('a', {\n    staticClass: \"account-status\",\n    on: {\n      \"click\": _vm.logout\n    }\n  }, [_vm._v(_vm._s(_vm.username) + \" (Log out)\")]) : _c('a', {\n    staticClass: \"account-status\",\n    on: {\n      \"click\": _vm.login\n    }\n  }, [_vm._v(\"Log in\")]), _vm._v(\" \"), _c('div', {\n    staticClass: \"droptarget\",\n    on: {\n      \"dragover\": _vm.dragover,\n      \"drop\": _vm.drop\n    }\n  }, [_c('img', {\n    staticClass: \"floorplan\",\n    attrs: {\n      \"src\": \"/static/carmana.svg\"\n    }\n  }), _vm._v(\" \"), _vm._l((_vm.projects), function(project) {\n    return (project.x) ? _c('img', {\n      key: project.id,\n      staticClass: \"marker\",\n      class: {\n        selected: _vm.selectedProject === project\n      },\n      style: ({\n        left: _vm.mapWidth * project.x - 20 + 'px',\n        top: _vm.mapHeight * project.y - 20 + 'px'\n      }),\n      attrs: {\n        \"width\": \"36\",\n        \"draggable\": project.username === _vm.username,\n        \"data-id\": project.id,\n        \"src\": project.avatar_thumbnail,\n        \"alt\": project.username,\n        \"title\": project.title\n      },\n      on: {\n        \"dragstart\": _vm.drag,\n        \"click\": function($event) {\n          _vm.updateSelectedProject(project)\n        }\n      }\n    }) : _vm._e()\n  })], 2)])\n},staticRenderFns: []}\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./~/vue-loader/lib/template-compiler?{\"id\":\"data-v-05004391\",\"hasScoped\":false,\"transformToRequire\":{\"video\":\"src\",\"source\":\"src\",\"img\":\"src\",\"image\":\"xlink:href\"}}!./~/vue-loader/lib/selector.js?type=template&index=0!./src/components/Center.vue\n// module id = 115\n// module chunks = 1","module.exports={render:function (){var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;\n  return _c('div', {\n    attrs: {\n      \"id\": \"appContainer\"\n    }\n  }, [_c('left', {\n    attrs: {\n      \"form\": _vm.form,\n      \"projects\": _vm.projects,\n      \"selectedProject\": _vm.selectedProject,\n      \"username\": _vm.username\n    },\n    on: {\n      \"toggleForm\": _vm.toggleForm,\n      \"updateSelectedProject\": _vm.updateSelectedProject,\n      \"drag\": _vm.leftDrag\n    }\n  }), _vm._v(\" \"), _c('center', {\n    attrs: {\n      \"projects\": _vm.projects,\n      \"selectedProject\": _vm.selectedProject,\n      \"helpText\": _vm.helpText,\n      \"username\": _vm.username\n    },\n    on: {\n      \"updateSelectedProject\": _vm.updateSelectedProject,\n      \"login\": _vm.login,\n      \"logout\": _vm.logout,\n      \"drop\": _vm.centerDrop\n    }\n  }), _vm._v(\" \"), _c('right', {\n    attrs: {\n      \"selectedProject\": _vm.selectedProject,\n      \"username\": _vm.username\n    },\n    on: {\n      \"toggleEditMode\": _vm.toggleEditMode,\n      \"updateProject\": _vm.updateProject\n    }\n  })], 1)\n},staticRenderFns: []}\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./~/vue-loader/lib/template-compiler?{\"id\":\"data-v-402409c4\",\"hasScoped\":false,\"transformToRequire\":{\"video\":\"src\",\"source\":\"src\",\"img\":\"src\",\"image\":\"xlink:href\"}}!./~/vue-loader/lib/selector.js?type=template&index=0!./src/App.vue\n// module id = 116\n// module chunks = 1","module.exports={render:function (){var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;\n  return _c('div', {\n    staticClass: \"details side-column\"\n  }, [(_vm.selectedProject.id) ? [(_vm.selectedProject.username === _vm.username) ? _c('a', {\n    staticClass: \"edit-button\",\n    on: {\n      \"click\": _vm.toggleEditMode\n    }\n  }, [_vm._v(_vm._s(_vm.selectedProject.editMode ? \"X\" : \"Edit\"))]) : _vm._e(), _vm._v(\" \"), _c('img', {\n    staticClass: \"avatar\",\n    attrs: {\n      \"src\": _vm.selectedProject.avatar,\n      \"alt\": _vm.selectedProject.username,\n      \"width\": \"122\"\n    }\n  }), _vm._v(\" \"), _c('p', [_c('a', {\n    attrs: {\n      \"href\": 'https://github.com/' + _vm.selectedProject.username\n    }\n  }, [_vm._v(\"@\" + _vm._s(_vm.selectedProject.username))]), _vm._v(\" is hacking on:\")]), _vm._v(\" \"), (!_vm.selectedProject.editMode) ? [_c('h2', [_vm._v(_vm._s(_vm.selectedProject.title))]), _vm._v(\" \"), _c('p', {\n    staticClass: \"selected-project-description\"\n  }, [_vm._v(_vm._s(_vm.selectedProject.description))])] : [_c('input', {\n    directives: [{\n      name: \"model\",\n      rawName: \"v-model\",\n      value: (_vm.selectedProject.title),\n      expression: \"selectedProject.title\"\n    }],\n    attrs: {\n      \"type\": \"text\",\n      \"autofocus\": \"\"\n    },\n    domProps: {\n      \"value\": (_vm.selectedProject.title)\n    },\n    on: {\n      \"input\": function($event) {\n        if ($event.target.composing) { return; }\n        _vm.selectedProject.title = $event.target.value\n      }\n    }\n  }), _vm._v(\" \"), _c('textarea', {\n    directives: [{\n      name: \"model\",\n      rawName: \"v-model\",\n      value: (_vm.selectedProject.description),\n      expression: \"selectedProject.description\"\n    }],\n    domProps: {\n      \"value\": (_vm.selectedProject.description)\n    },\n    on: {\n      \"input\": function($event) {\n        if ($event.target.composing) { return; }\n        _vm.selectedProject.description = $event.target.value\n      }\n    }\n  }), _vm._v(\" \"), _c('button', {\n    staticClass: \"glow-button\",\n    on: {\n      \"click\": _vm.updateProject\n    }\n  }, [_vm._v(\"Update\")])]] : _vm._e()], 2)\n},staticRenderFns: []}\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./~/vue-loader/lib/template-compiler?{\"id\":\"data-v-770b9b10\",\"hasScoped\":false,\"transformToRequire\":{\"video\":\"src\",\"source\":\"src\",\"img\":\"src\",\"image\":\"xlink:href\"}}!./~/vue-loader/lib/selector.js?type=template&index=0!./src/components/Right.vue\n// module id = 117\n// module chunks = 1","module.exports={render:function (){var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;\n  return _c('div', {\n    staticClass: \"projects side-column\"\n  }, [_c('div', {\n    staticClass: \"project-form\",\n    class: {\n      open: _vm.form.isOpen\n    }\n  }, [_c('input', {\n    directives: [{\n      name: \"model\",\n      rawName: \"v-model\",\n      value: (_vm.form.title),\n      expression: \"form.title\"\n    }],\n    attrs: {\n      \"type\": \"text\",\n      \"placeholder\": \"Topic\",\n      \"autofocus\": \"\"\n    },\n    domProps: {\n      \"value\": (_vm.form.title)\n    },\n    on: {\n      \"input\": function($event) {\n        if ($event.target.composing) { return; }\n        _vm.form.title = $event.target.value\n      }\n    }\n  }), _vm._v(\" \"), _c('textarea', {\n    directives: [{\n      name: \"model\",\n      rawName: \"v-model\",\n      value: (_vm.form.description),\n      expression: \"form.description\"\n    }],\n    attrs: {\n      \"placeholder\": \"More description (optional)\"\n    },\n    domProps: {\n      \"value\": (_vm.form.description)\n    },\n    on: {\n      \"input\": function($event) {\n        if ($event.target.composing) { return; }\n        _vm.form.description = $event.target.value\n      }\n    }\n  })]), _vm._v(\" \"), _c('button', {\n    staticClass: \"glow-button\",\n    on: {\n      \"click\": _vm.toggleForm\n    }\n  }, [_vm._v(\"+ Add your hack\")]), _vm._v(\" \"), _vm._l((_vm.projects), function(project) {\n    return _c('div', {\n      key: project.id,\n      staticClass: \"project\",\n      class: {\n        selected: _vm.selectedProject === project\n      },\n      attrs: {\n        \"data-id\": project.id,\n        \"draggable\": project.username === _vm.username\n      },\n      on: {\n        \"dragstart\": _vm.drag,\n        \"click\": function($event) {\n          _vm.updateSelectedProject(project)\n        }\n      }\n    }, [_c('img', {\n      attrs: {\n        \"src\": project.avatar_thumbnail,\n        \"width\": \"36\",\n        \"alt\": project.username,\n        \"draggable\": \"false\"\n      }\n    }), _vm._v(\"\\n  \" + _vm._s(project.title) + \"\\n  \")])\n  }), _vm._v(\" \"), (_vm.projects.length === 0) ? _c('div', {\n    staticClass: \"details\"\n  }, [_vm._v(\"\\n    No hacks yet! You can be first!\\n  \")]) : _vm._e(), _vm._v(\" \"), (_vm.projects.loading) ? _c('div', {\n    staticClass: \"loader\"\n  }, [_c('div', {\n    staticClass: \"loader1\"\n  }), _vm._v(\" \"), _c('div', {\n    staticClass: \"loader2\"\n  }), _vm._v(\" \"), _c('div', {\n    staticClass: \"loader3\"\n  })]) : _vm._e()], 2)\n},staticRenderFns: []}\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./~/vue-loader/lib/template-compiler?{\"id\":\"data-v-b1f3317a\",\"hasScoped\":false,\"transformToRequire\":{\"video\":\"src\",\"source\":\"src\",\"img\":\"src\",\"image\":\"xlink:href\"}}!./~/vue-loader/lib/selector.js?type=template&index=0!./src/components/Left.vue\n// module id = 118\n// module chunks = 1","/*\n * Handles the 'oauth dance' for our application.\n */\nimport axios from 'axios' // ajax library\n\nconst clientId = '1b717d04ec7f3615bb18'\n// the following url needs to match the app configuration on github.com\nconst landingPage = window.location.href.indexOf('index.html') >= 0 ? window.location.href.replace('index.html', 'oauth_redirect.html') : window.location.href + 'oauth_redirect.html'\nconst tokenKey = 'token'\nconst oAuthUrl = `https://github.com/login/oauth/authorize?scope=public_repo&redirect_uri=${landingPage}&client_id=${clientId}`\n// our heroku instance that hides the oauth secret. running https://github.com/prose/gatekeeper\nconst codeToTokenUrl = 'https://bkkhackmap.herokuapp.com/authenticate/'\n\n// HTTP Options call to wake the heroku instance. we don't care about the\n// response. we just want the oauth login to be quick.\naxios.options(codeToTokenUrl)\n\nexport default {\n  isLoggedIn: function () {\n    return !!window.localStorage.getItem(tokenKey)\n  },\n  logOut: function () {\n    window.localStorage.removeItem(tokenKey)\n  },\n  // implements https://developer.github.com/v3/oauth/#web-application-flow\n  getOAuthToken: function () {\n    return new Promise((resolve, reject) => {\n      // if we already have a token, just return it\n      var token = window.localStorage.getItem(tokenKey)\n      if (token) {\n        resolve(token)\n        return\n      }\n      // otherwise, open a window to do the github login\n      // github will redirect to landingPage, which will fire an\n      // event with the github auth code\n      var oauthWindow = window.open(oAuthUrl) // needs to be a new window. github can't be embedded in an iframe for security reasons\n      window.addEventListener('oauth-code-received', function (event) {\n        var code = event.detail\n        // we received the code exchange it for an auth token.\n        // this part needs to interact with a server because we need to hide the oAuth secret.\n        // the server is just a heroku app running https://github.com/prose/gatekeeper\n        axios.get(codeToTokenUrl + code)\n          .then(response => {\n            window.localStorage.setItem(tokenKey, response.data.token)\n            oauthWindow.close()\n            resolve(response.data.token)\n          })\n          .catch(error => reject(error))\n      })\n    })\n  }\n}\n\n\n\n// WEBPACK FOOTER //\n// ./src/github-oauth.js","function injectStyle (ssrContext) {\n  require(\"!!../node_modules/extract-text-webpack-plugin/loader.js?{\\\"omit\\\":1,\\\"remove\\\":true}!vue-style-loader!css-loader?{\\\"minimize\\\":true,\\\"sourceMap\\\":true}!../node_modules/vue-loader/lib/style-compiler/index?{\\\"vue\\\":true,\\\"id\\\":\\\"data-v-402409c4\\\",\\\"scoped\\\":false,\\\"hasInlineConfig\\\":false}!../node_modules/vue-loader/lib/selector?type=styles&index=0!./App.vue\")\n}\nvar Component = require(\"!../node_modules/vue-loader/lib/component-normalizer\")(\n  /* script */\n  require(\"!!babel-loader!../node_modules/vue-loader/lib/selector?type=script&index=0!./App.vue\"),\n  /* template */\n  require(\"!!../node_modules/vue-loader/lib/template-compiler/index?{\\\"id\\\":\\\"data-v-402409c4\\\",\\\"hasScoped\\\":false,\\\"transformToRequire\\\":{\\\"video\\\":\\\"src\\\",\\\"source\\\":\\\"src\\\",\\\"img\\\":\\\"src\\\",\\\"image\\\":\\\"xlink:href\\\"}}!../node_modules/vue-loader/lib/selector?type=template&index=0!./App.vue\"),\n  /* styles */\n  injectStyle,\n  /* scopeId */\n  null,\n  /* moduleIdentifier (server only) */\n  null\n)\n\nmodule.exports = Component.exports\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./src/App.vue\n// module id = 41\n// module chunks = 1","import axios from 'axios' // ajax library\nimport serialization from './github-serialization.js'\nimport auth from './github-oauth.js'\n\n/*\n * GitHub Issues API. Handles saving and polling of\n * projects, stored as github issue comments.\n *\n * Expects a configuration of:\n * {\n *    organization: 'bkkhack',\n *    repository: 'hackmap',\n *    label: 'BKKHack Main Thread',\n *    pollIntervalSeconds: 60,\n *    onAuthenticationRequired: () => Promise(token)\n *    onProjectsUpdated: (projects) => ()\n * }\n */\nexport default class GitHubIssueService {\n  constructor (config) {\n    this.config = config\n    this.github = this.createGithubApiClient(config.organization, config.repository)\n\n    // if the user has already logged in (e.g. in a previous session), use the\n    // authenticated client for all operations. Authenticated calls have a\n    // higher rate limit, even for calls that don't require authentication\n    if (auth.isLoggedIn()) {\n      this.ensureAuthenticatedClient()\n    }\n\n    // issue ajax requests to load data from github\n    // the model will be updated periodically from the callbacks\n    this.github.repo.get('issues', { params: { labels: this.config.label } })\n      .then(issueResponse => {\n        if (!issueResponse.data.length) {\n          throw new Error('Could not find an open issue labeled: ' + this.config.label)\n        }\n        var issue = issueResponse.data[0]\n        config.onHelpText(issue.body)\n        this.issueNumber = issue.number\n      })\n      .then(() => this.pollIssueForComments())\n      .catch(err => this.reportError(err))\n  }\n\n  postNewProject (project) {\n    return this.ensureAuthenticatedClient()\n      .then(() => {\n        let body = serialization.serializeProjectToComment(project)\n        return this.github.repo\n          .post('issues/' + this.issueNumber + '/comments', { body: body })\n      })\n      .then((response) => {\n        return serialization.deserializeCommentToProject(response.data)\n      })\n  }\n\n  updateProject (project) {\n    return this.ensureAuthenticatedClient()\n      .then(() => {\n        let body = serialization.serializeProjectToComment(project)\n        return this.github.repo.patch('issues/comments/' + project.id, { body: body })\n      })\n      .then(response => {\n        return serialization.deserializeCommentToProject(response.data)\n      })\n  }\n\n  pollIssueForComments () {\n    var commentsUrl = 'issues/' + this.issueNumber + '/comments'\n\n    var poll = () => {\n      console.log('polling...')\n      return this.github.repo\n        .get(commentsUrl)\n        .then(response => {\n          var projects = response.data\n            .map(serialization.deserializeCommentToProject)\n          this.config.onProjectsUpdated(projects)\n        })\n        .catch(err => this.reportError(err))\n    }\n\n    window.setInterval(poll, 1000 * this.config.pollIntervalSeconds)\n    return poll()\n  }\n\n  ensureAuthenticatedClient () {\n    return this.config.onAuthenticationRequired()\n      .then(token => {\n        if (!this.github.isAuthenticated) {\n          this.github = this.createGithubApiClient(\n            this.config.organization,\n            this.config.repository,\n            token)\n          this.github.isAuthenticated = true\n          return this.github.get('user')\n        }\n      }).then(response => {\n        if (response) {\n          this.config.onUserAuthenticated(response)\n        }\n      })\n  }\n\n  deauthenticateClient () {\n    auth.logOut()\n    this.github = this.createGithubApiClient(\n      this.config.organization,\n      this.config.repository)\n  }\n\n  createGithubApiClient (org, repo, token) {\n    function getApiConfig (apiPath) {\n      var config = {\n        baseURL: 'https://api.github.com/' + (apiPath || '')\n      }\n      if (token) {\n        config.headers = { 'Authorization': 'token ' + token }\n      }\n      return config\n    }\n    // general github ajax client\n    var github = axios.create(getApiConfig())\n\n    // repo-specific ajax client\n    github.repo = axios.create(getApiConfig(`repos/${org}/${repo}/`))\n\n    return github\n  }\n\n  reportError (err) {\n    console.log(err)\n  }\n}\n\n\n\n// WEBPACK FOOTER //\n// ./src/github-issues.js","/* Handles converting the app's concept of a 'project'\n * to/from the GitHub API's concept of an 'issue'\n */\n\nconst commentExtractionRegex = /<!-- ([.\\d]+),([.\\d]+) -->/\n\nfunction parseCoordinatesFromComment (commentLines) {\n  var lastLine = commentLines.slice(-1)[0]\n  var matches = commentExtractionRegex.exec(lastLine)\n\n  return matches ? { x: matches[1], y: matches[2] }\n    : { x: 0, y: 0 }\n}\n\nexport default {\n  deserializeCommentToProject: function (comment) {\n    var textLines = comment.body.split('\\r\\n')\n    var coords = parseCoordinatesFromComment(textLines)\n    return {\n      id: comment.id,\n      title: textLines[0],\n      description: textLines[1],\n      username: comment.user.login,\n      avatar_thumbnail: comment.user.avatar_url + '&s=' + 40,\n      avatar: comment.user.avatar_url + '&s=' + 120,\n      x: coords.x,\n      y: coords.y,\n      editMode: false\n    }\n  },\n\n  serializeProjectToComment: function (project) {\n    let body = project.title + '\\r\\n' +\n      (project.description || '') + '\\r\\n' +\n      `<!-- ${project.x},${project.y} -->`\n    return body\n  }\n}\n\n\n\n// WEBPACK FOOTER //\n// ./src/github-serialization.js","// The Vue build version to load with the `import` command\n// (runtime-only or standalone) has been set in webpack.base.conf with an alias.\nimport Vue from 'vue'\nimport App from './App'\n\nVue.config.productionTip = false\n\n/* eslint-disable no-new */\nnew Vue({\n  el: '#app',\n  template: '<App/>',\n  components: { App }\n})\n\n\n\n// WEBPACK FOOTER //\n// ./src/main.js","<template>\n  <div id=\"appContainer\">\n    <left\n      @toggleForm=\"toggleForm\" @updateSelectedProject=\"updateSelectedProject\"\n      @drag=\"leftDrag\"\n      :form=\"form\" :projects=\"projects\"\n      :selectedProject=\"selectedProject\" :username=\"username\">\n    </left>\n    <center\n      @updateSelectedProject=\"updateSelectedProject\"\n      @login=\"login\" @logout=\"logout\" @drop=\"centerDrop\"\n      :projects=\"projects\" :selectedProject=\"selectedProject\"\n      :helpText=\"helpText\" :username=\"username\">\n    </center>\n    <right\n      @toggleEditMode=\"toggleEditMode\" @updateProject=\"updateProject\"\n      :selectedProject=\"selectedProject\" :username=\"username\">\n    </right>\n  </div>\n</template>\n\n<script>\nimport GitHubIssueService from './github-issues.js'\nimport auth from './github-oauth.js'\nimport Left from './components/Left.vue'\nimport Center from './components/Center.vue'\nimport Right from './components/Right.vue'\n\nlet githubIssue\nexport default {\n  name: 'app',\n  data () {\n    return {\n      helpText: '',\n      projects: [],\n      mapWidth: 0,\n      mapHeight: 0,\n      form: {\n        isOpen: false,\n        title: '',\n        description: ''\n      },\n      authenticationUrl: '',\n      username: '',\n      selectedProject: {\n        id: '',\n        avatar: '',\n        username: '',\n        editMode: '',\n        title: '',\n        description: ''\n      }\n    }\n  },\n  methods: {\n    toggleForm () {\n      if (!this.form.isOpen) {\n        this.form.isOpen = true\n        return\n      }\n      this.form.title = this.form.title.trim()\n      this.form.description = this.form.description.trim()\n\n      if (!this.form.title && !this.form.description) {\n        // empty form, close it.\n        this.form.isOpen = false\n        return\n      } else if (!this.form.title) {\n        // user filled in a description, but not a title\n        alert('Please enter a topic for your project')\n        return\n      } else {\n        // title and optional description provided, save the text\n        githubIssue.postNewProject(this.form)\n          .then(project => {\n            // add the new project and blank the form.\n            this.projects.push(project)\n            this.form.title = ''\n            this.form.description = ''\n          })\n          .catch(err => console.error(err))\n        this.form.isOpen = false\n      }\n    },\n    leftDrag (event) {\n      var avatar = event.target.querySelector('img')\n      event.dataTransfer.setDragImage(avatar, 20, 20)\n      var projectId = event.target.dataset.id\n      event.dataTransfer.setData('projectId', projectId)\n    },\n    updateSelectedProject (project) {\n      this.selectedProject = project\n    },\n    centerDrop (event) {\n      var projectId = event.dataTransfer.getData('projectId')\n      var project = this.projects.filter(p => p.id === parseInt(projectId))[0]\n      this.updateMapDimensions()\n      // record old x and y values in case the API rejects our update, so we can revert to them\n      var oldX = project.x\n      var oldY = project.y\n      // the map is a percentage width of the overall window, so we need\n      // to save x and y as percentage values.\n      project.x = event.offsetX / this.mapWidth\n      project.y = event.offsetY / this.mapHeight\n      githubIssue.updateProject(project)\n        .catch(err => {\n          console.log('update rejected', err)\n          project.x = oldX\n          project.y = oldY\n        })\n    },\n    updateMapDimensions () {\n      var floorplan = this.$el.querySelector('.floorplan')\n      this.mapWidth = floorplan.clientWidth\n      this.mapHeight = floorplan.clientHeight\n    },\n    login () {\n      githubIssue.ensureAuthenticatedClient().then(data => console.log(data))\n    },\n    logout () {\n      this.username = ''\n      githubIssue.deauthenticateClient()\n    },\n    toggleEditMode () {\n      if (!this.selectedProject.editMode) { // entering edit mode\n        this.selectedProject.backup = {\n          title: this.selectedProject.title,\n          description: this.selectedProject.description\n        }\n      } else { // cancelling edit mode\n        this.selectedProject.title = this.selectedProject.backup.title\n        this.selectedProject.description = this.selectedProject.backup.description\n      }\n      this.selectedProject.editMode = !this.selectedProject.editMode\n    },\n    updateProject () {\n      githubIssue.updateProject(this.selectedProject)\n        .then(() => {\n          this.selectedProject.editMode = false\n        })\n        .catch(err => {\n          console.log('update rejected', err)\n          var backup = this.selectedProject.backup\n          this.selectedProject.title = backup.title\n          this.selectedProject.description = backup.description\n        })\n    }\n  },\n  components: {\n    Left,\n    Center,\n    Right\n  },\n  mounted () {\n    githubIssue = new GitHubIssueService({\n      organization: 'bkkhack',\n      repository: 'hackmap',\n      label: 'BKKHack Main Thread',\n      onAuthenticationRequired: auth.getOAuthToken,\n      pollIntervalSeconds: 60,\n      onProjectsUpdated: projects => {\n        this.projects = projects\n      },\n      onHelpText: helpText => {\n        this.helpText = helpText\n      },\n      onUserAuthenticated: response => {\n        this.username = response.data.login\n      }\n    })\n  }\n}\n</script>\n\n<style>\nhtml, body {\n    margin: 0;\n    padding: 0;\n    height: 100%;\n}\nhtml {\n    /* css blueprint pattern */\n    background-color:#269;\n    background-image: linear-gradient(rgba(255, 255, 255, .1) 2px, transparent 2px),\n    linear-gradient(90deg, rgba(255, 255, 255, .2) 1px, transparent 2px),\n    linear-gradient(rgba(255,255,255,.1) 1px, transparent 1px),\n    linear-gradient(90deg, rgba(255,255,255,.2) 1px, transparent 1px);\n    background-size:100px 100px, 100px 100px, 20px 20px, 20px 20px;\n    background-position:-2px -2px, -2px -2px, -1px -1px, -1px -1px;\n}\n#appContainer {\n    color:#fff;\n    font-family:sans-serif;\n    display:flex;\n    flex-wrap:wrap;\n    flex-direction:row;\n    justify-content:flex-start;\n    align-items:stretch;\n}\na {\n    color:#fff;\n    font-weight:bold;\n    text-decoration:none;\n    cursor:pointer;\n}\nh1 {\n    font-weight:normal;\n    text-align:center;\n    font-size:24pt;\n    margin:0;\n    -webkit-user-select: none;\n    user-select: none;\n}\ninput[type='text'], textarea {\n    box-sizing:border-box;\n    border-radius:5px;\n    font-size:1em;\n    width:100%;\n    margin-bottom:5px;\n    padding: 0.4em;\n    outline:none;\n    transition:background-color linear 0.2s;\n    background-color:rgba(255,255,255,.9);\n}\ninput:focus,\ntextarea:focus {\n    background-color:rgba(255,255,255,1);\n}\ntextarea {\n    height:200px;\n}\nimg[draggable='true'],\ndiv[draggable='true'] {\n    cursor:pointer;\n}\n[v-cloak] {\n    /* If marked with v-cloak (vue cloak), this overrides everything.\n     * Vue will remove this attribute when it's initialized. */\n    visibility: hidden !important;\n}\n\n/*\n * General app layout\n */\n\n.projects {\n    order: 1;\n    overflow: scroll;\n}\n.center-column,\n.side-column {\n    padding:10px;\n    min-height:550px;\n}\n.center-column {\n    order: 2;\n    flex: 1;\n    background-image: radial-gradient(circle at 50% 50%, rgba(0, 153, 255, 0.2) 0%, rgba(255, 255, 255, 0) 50%);\n    position: relative;\n}\n.side-column {\n    background-color:rgba(51, 51, 51, 0.8);\n    box-shadow:0 0 10px #000;\n    box-sizing:border-box;\n    flex-basis: 300px;\n}\n.details {\n    order: 3;\n    text-align:center;\n    padding-top:60px;\n}\n\n\n/*\n * left column -- project list and form\n */\n.glow-button {\n    border-radius:4px;\n    border: 2px dashed #326fce;\n    box-sizing:border-box;\n    color: #326fce;\n    font-size:18pt;\n    height:40px;\n    height:40px;\n    width:100%;\n    background-color:transparent;\n    outline:none;\n    cursor:pointer;\n    transition: all linear 0.2s;\n    animation: glow-button 1s infinite alternate\n}\n.glow-button:hover {\n    animation: none;\n    border-color: #3a7ce2;\n    color: #3a7ce2;\n}\n.glow-button:active {\n    color: #6af;\n}\n@keyframes glow-button {\n    from { color: #326fce; border-color: #326fce }\n    to { color: #3a7ce2; border-color: #3a7ce2 }\n}\n.project-form {\n    overflow:hidden;\n    max-height:0;\n    transition:max-height linear 0.4s;\n}\n.project-form.open {\n    max-height:500px;\n}\n.project {\n    -webkit-user-select: none;\n    user-select: none;\n    box-sizing:border-box;\n    height:42px;\n    line-height:42px;\n    background-color:rgba(255, 255, 255, 0.1);\n    border:1px solid #777;\n    margin:10px 0;\n    overflow:hidden;\n}\n.project.selected {\n    border:1px solid #397ce2;\n}\n.project img {\n    vertical-align:middle;\n    display:inline-block;\n    margin-right:5px;\n}\n/* css loader in left column */\n.loader {\n    margin: 50px auto 0;\n    width: 70px;\n    text-align: center;\n}\n.loader > div {\n    width: 18px;\n    height: 18px;\n    background-color: rgba(255,255,255,.8);\n\n    border-radius: 100%;\n    display: inline-block;\n    -webkit-animation: zoom 1.4s infinite ease-in-out both;\n    animation: zoom 1.4s infinite ease-in-out both;\n}\n.loader .loader1 {\n    -webkit-animation-delay: -0.32s;\n    animation-delay: -0.32s;\n}\n.loader .loader2 {\n    -webkit-animation-delay: -0.16s;\n    animation-delay: -0.16s;\n}\n@keyframes zoom {\n    0%, 80%, 100% {\n        -webkit-transform: scale(0);\n        transform: scale(0);\n    } 40% {\n        -webkit-transform: scale(1.0);\n        transform: scale(1.0);\n    }\n}\n\n/*\n * Main Column - map\n */\n.help-icon {\n    position:absolute;\n    top:0;\n    left:0;\n    padding:10px 15px;\n    font-size:12pt;\n}\n.help-icon .help-text {\n    display:none;\n    position:relative;\n    background-color:rgba(51, 51, 51, 0.8);\n    box-shadow:0 0 10px #000;\n    width:300px;\n    min-height:100px;\n    color:#fff;\n    font-weight:normal;\n    z-index:2;\n    padding:10px;\n    top:-16px;\n    white-space: pre-line; /* honor line breaks that the user typed */\n}\n.help-icon:hover .help-text {\n    display:block;\n}\n.account-status {\n    display:block;\n    position:absolute;\n    top:0;\n    right:0;\n    margin:0;\n    font-size:12pt;\n    padding:10px 15px 0 0;\n}\n.droptarget {\n    width:90%;\n\n    /* vertical center */\n    position: absolute;\n    left: 50%;\n    top: 50%;\n    transform: translate(-50%, -50%);\n}\n.floorplan {\n    /* floorplan image is assumed to be black vector image */\n    -webkit-filter:invert(100%) opacity(40%);\n    filter:invert(100%) opacity(40%);\n    width:100%;\n\n    z-index:0;\n    /* disable drag of the floorplan image */\n    pointer-events:none;\n}\n.marker {\n    position:absolute;\n    z-index:1;\n}\n.marker.selected {\n    -webkit-animation: bounce 2s 2;\n    animation: bounce 2s 2;\n}\n@keyframes bounce {\n    0%, 20%, 50%, 80%, 100% {\n        transform: translateY(0);\n    }\n    40% {\n        transform: translateY(-30px);\n    }\n    60% {\n        transform: translateY(-15px);\n    }\n}\n\n/*\n * Right column -- project details\n */\n.details h2,\n.details p {\n    margin:15px 0;\n}\n.details .avatar {\n    border: 1px solid #226699;\n}\n.edit-button {\n    position:absolute;\n    top:0;\n    right:0;\n    padding:10px;\n}\n.selected-project-description {\n    white-space: pre-line; /* honor line breaks that the user typed */\n}\n</style>\n\n\n\n// WEBPACK FOOTER //\n// App.vue?6558f52f","<template>\n  <div class=\"center-column\">\n    <h1>BKKHackmap</h1>\n    <a class=\"help-icon\">?<div class=\"help-text\" v-html=\"helpText\"></div></a>\n    <a class=\"account-status\" v-if=\"username\" @click=\"logout\" v-cloak>{{username}} (Log out)</a>\n    <a class=\"account-status\" v-else @click=\"login\" v-cloak>Log in</a>\n    <div class=\"droptarget\"\n      @dragover=\"dragover\"\n      @drop=\"drop\">\n    <img src=\"/static/carmana.svg\" class=\"floorplan\" />\n    <img class=\"marker\" width=\"36\"\n      v-for=\"project in projects\"\n      v-if=\"project.x\"\n      v-bind:key=\"project.id\"\n      v-bind:draggable=\"project.username === username\"\n      @dragstart=\"drag\"\n      @click=\"updateSelectedProject(project)\"\n      v-bind:class=\"{ selected: selectedProject === project }\"\n      v-bind:data-id=\"project.id\"\n      v-bind:style=\"{ left: mapWidth * project.x - 20 + 'px', top: mapHeight * project.y - 20 + 'px' }\"\n      v-bind:src=\"project.avatar_thumbnail\"\n      v-bind:alt=\"project.username\"\n      v-bind:title=\"project.title\"\n    />\n    </div>\n</div>\n</template>\n\n<script>\n  export default {\n    name: 'center',\n    props: ['helpText', 'username', 'projects', 'selectedProject'],\n    methods: {\n      dragover (event) {\n        this.$emit('dragover', event)\n        event.preventDefault() // mark this element as a drop target.\n        event.dataTransfer.dropEffect = 'copy'\n      },\n      drag (event) {\n        var projectId = event.target.dataset.id\n        event.dataTransfer.setData('projectId', projectId)\n      },\n      drop (event) {\n        this.$emit('drop', event)\n      },\n      login () {\n        this.$emit('login')\n      },\n      logout () {\n        this.$emit('logout')\n      },\n      updateMapDimensions () {\n        var floorplan = this.$el.querySelector('.floorplan')\n        this.mapWidth = floorplan.clientWidth\n        this.mapHeight = floorplan.clientHeight\n      },\n      updateSelectedProject (project) {\n        this.$emit('updateSelectedProject', project)\n      }\n    },\n    mounted () {\n      window.addEventListener('resize', this.updateMapDimensions)\n      this.updateMapDimensions()\n    },\n    beforeDestroy () {\n      window.removeEventListener('resize', this.updateMapDimensions)\n    }\n}\n</script>\n\n<style>\n</style>\n\n\n\n// WEBPACK FOOTER //\n// Center.vue?5f367e2e","<template>\n  <div class=\"projects side-column\">\n    <div class=\"project-form\" v-bind:class=\"{ open: form.isOpen }\">\n      <input v-model=\"form.title\" type=\"text\" placeholder=\"Topic\" autofocus>\n      <textarea v-model=\"form.description\" placeholder=\"More description (optional)\"></textarea>\n    </div>\n    <button class=\"glow-button\" @click=\"toggleForm\">+ Add your hack</button>\n    <div v-for=\"project in projects\"\n      @dragstart=\"drag\"\n      @click=\"updateSelectedProject(project)\"\n      v-bind:key=\"project.id\"\n      v-bind:data-id=\"project.id\"\n      v-bind:class=\"{ selected: selectedProject === project }\"\n      v-bind:draggable=\"project.username === username\"\n      v-cloak\n      class=\"project\">\n    <img v-bind:src=\"project.avatar_thumbnail\" width=\"36\" v-bind:alt=\"project.username\" draggable=\"false\" />\n    {{project.title}}\n    </div>\n    <div class=\"details\" v-if=\"projects.length === 0\">\n      No hacks yet! You can be first!\n    </div>\n    <div class=\"loader\" v-if=\"projects.loading\">\n      <div class=\"loader1\"></div>\n      <div class=\"loader2\"></div>\n      <div class=\"loader3\"></div>\n    </div>\n  </div>\n</template>\n\n<script>\n  export default {\n    name: 'left',\n    props: ['form', 'projects', 'selectedProject', 'username'],\n    methods: {\n      toggleForm () {\n        this.$emit('toggleForm')\n      },\n      drag (event) {\n        this.$emit('drag', event)\n      },\n      updateSelectedProject (project) {\n        this.$emit('updateSelectedProject', project)\n      }\n    }\n  }\n</script>\n\n<style>\n</style>\n\n\n\n// WEBPACK FOOTER //\n// Left.vue?53b8e64b","<template>\n  <div class=\"details side-column\">\n    <template v-if=\"selectedProject.id\" v-cloak>\n      <a class=\"edit-button\" v-if=\"selectedProject.username === username\" @click=\"toggleEditMode\">{{selectedProject.editMode ? \"X\" : \"Edit\"}}</a>\n      <img class=\"avatar\" :src=\"selectedProject.avatar\" :alt=\"selectedProject.username\" width=\"122\"/>\n      <p><a v-bind:href=\"'https://github.com/' + selectedProject.username\">@{{selectedProject.username}}</a> is hacking on:</p>\n      <template v-if=\"!selectedProject.editMode\">\n        <h2>{{selectedProject.title}}</h2>\n        <p class='selected-project-description'>{{selectedProject.description}}</p>\n      </template>\n      <template v-else>\n        <input v-model=\"selectedProject.title\" type=\"text\" autofocus>\n        <textarea v-model=\"selectedProject.description\"></textarea>\n        <button class=\"glow-button\" @click=\"updateProject\">Update</button>\n      </template>\n    </template>\n</div>\n</template>\n\n<script>\n  export default {\n    name: 'right',\n    props: ['selectedProject', 'username'],\n    methods: {\n      toggleEditMode () {\n        this.$emit('toggleEditMode')\n      },\n      updateProject () {\n        this.$emit('updateProject')\n      }\n    }\n  }\n</script>\n\n<style>\n</style>\n\n\n\n// WEBPACK FOOTER //\n// Right.vue?6e6475d9"],"sourceRoot":""}